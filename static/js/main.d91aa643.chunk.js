(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[0],{223:function(e){e.exports=JSON.parse('{"en":"English","my-MM":"\u1017\u1019\u102c","shn-MM":"\u1010\u1086\u1038"}')},302:function(e,t,a){e.exports=a(455)},314:function(e,t,a){},455:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(8),l=(a(314),a(14)),c=a.n(l),i=a(27),o=a(0),s=a.n(o),d=a(2);var m=function(e){var t=Object(r.b)().t;d.d.global.tooltips.intersect=!1,d.d.global.tooltips.mode="nearest",d.d.global.tooltips.position="average",d.d.global.tooltips.backgroundColor="rgba(255, 255, 255, 0.8)",d.d.global.tooltips.displayColors=!1,d.d.global.tooltips.borderColor="#c62828",d.d.global.tooltips.borderWidth=1,d.d.global.tooltips.titleFontColor="#000",d.d.global.tooltips.bodyFontColor="#000",d.d.global.tooltips.caretPadding=4,d.d.global.tooltips.intersect=!1,d.d.global.tooltips.mode="nearest",d.d.global.tooltips.position="nearest",d.d.global.legend.display=!0,d.d.global.legend.position="bottom",d.d.global.hover.intersect=!1;var a=Array(10).fill(0),n=0;if(!e.data||0===e.data.length)return s.a.createElement("div",null);e.data.forEach((function(e){if(e.agebracket)for(var t=parseInt(e.agebracket),r=0;r<10;r++)t>10*r&&t<=10*(r+1)&&a[r]++;else n++}));var l={labels:["0-10","11-20","21-30","31-40","41-50","51-60","61-70","71-80","81-90","91-100"],datasets:[{data:a,label:"Cases",backgroundColor:"#ff073a"}]};return s.a.createElement("div",{className:"charts-header"},s.a.createElement("div",{className:"chart-title"},e.title),s.a.createElement("div",{className:"chart-content doughnut"},s.a.createElement(d.a,{data:l,options:{events:["mousemove","mouseout","touchstart","touchmove","touchend"],responsive:!0,maintainAspectRatio:!1,tooltips:{mode:"index"},legend:{display:!1},layout:{padding:{left:20,right:20,top:20,bottom:0}},scales:{xAxes:[{stacked:!0,gridLines:{color:"rgba(0, 0, 0, 0)"}}],yAxes:[{stacked:!0}]}}})),s.a.createElement("div",{className:"chart-note"},"*",t("awaiting details for",{count:n})))},u=a(102),p="country",f="state",h={Myanmar:{name:"Myanmar",geoDataFile:"".concat("/maps","/myanmar.json"),mapType:p,graphObjectName:"myanmar"},Ayeyarwady:{name:"Ayeyarwady",geoDataFile:"".concat("/maps","/ayeyarwady.json"),mapType:f,graphObjectName:"ayeyarwady"},Bago:{name:"Bago",geoDataFile:"".concat("/maps","/bago.json"),mapType:f,graphObjectName:"bago"},Chin:{name:"Chin",geoDataFile:"".concat("/maps","/chin.json"),mapType:f,graphObjectName:"chin"},Kachin:{name:"Kachin",geoDataFile:"".concat("/maps","/kachin.json"),mapType:f,graphObjectName:"kachin"},Kayah:{name:"Kayah",geoDataFile:"".concat("/maps","/kayah.json"),mapType:f,graphObjectName:"kayah"},Kayin:{name:"Kayin",geoDataFile:"".concat("/maps","/kayin.json"),mapType:f,graphObjectName:"kayin"},Magway:{name:"Magway",geoDataFile:"".concat("/maps","/magway.json"),mapType:f,graphObjectName:"magway"},Mandalay:{name:"Mandalay",geoDataFile:"".concat("/maps","/mandalay.json"),mapType:f,graphObjectName:"mandalay"},Mon:{name:"Mon",geoDataFile:"".concat("/maps","/mon.json"),mapType:f,graphObjectName:"mon"},"Nay Pyi Taw":{name:"Nay Pyi Taw",geoDataFile:"".concat("/maps","/naypyitaw.json"),mapType:f,graphObjectName:"naypyitaw"},Rakhine:{name:"Rakhine",geoDataFile:"".concat("/maps","/rakhine.json"),mapType:f,graphObjectName:"rakhine"},Sagaing:{name:"Sagaing",geoDataFile:"".concat("/maps","/sagaing.json"),mapType:f,graphObjectName:"sagaing"},Shan:{name:"Shan",geoDataFile:"".concat("/maps","/shan.json"),mapType:f,graphObjectName:"shan"},Tanintharyi:{name:"Tanintharyi",geoDataFile:"".concat("/maps","/tanintharyi.json"),mapType:f,graphObjectName:"tanintharyi"},Yangon:{name:"Yangon",geoDataFile:"".concat("/maps","/yangon.json"),mapType:f,graphObjectName:"yangon"}},g={"MM-07":"Ayayarwady","MM-02":"Bago","MM-14":"Chin","MM-11":"Kachin","MM-12":"Kayah","MM-13":"Kayin","MM-03":"Magway","MM-04":"Mandalay","MM-15":"Mon","MM-18":"Nay Pyi Taw","MM-16":"Rakhine","MM-01":"Sagaing","MM-17":"Shan","MM-05":"Tanintaryi","MM-06":"Yangon"},v={};Object.keys(g).map((function(e,t){return v[g[e]]=e,null}));var b=[];Object.keys(g).map((function(e,t){return b.push({code:e,name:g[e]}),null}));var y=a(67),E=a(13),N=a.n(E),j={"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Aug","09":"Sep",10:"Oct",11:"Nov",12:"Dec"},O=function(e){var t=e.slice(0,2),a=e.slice(3,5),n=e.slice(6,10),r=e.slice(11);return"".concat(n,"-").concat(a,"-").concat(t,"T").concat(r,"+06:30")},w=function(e){var t=Number(e.slice(0,2)),a=e.slice(3,5),n=e.slice(11);return y.a.t("absoluteDate",{time:n.slice(0,5),day:t,month:y.a.t(j[a])})},k=function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=new Date;t.setHours(0,0,0,0);var a=["dailyconfirmed","dailydeceased","dailyrecovered","totalconfirmed","totaldeceased","totalrecovered"];return e.filter((function(e){return a.every((function(t){return e[t]}))&&e.date})).filter((function(e){return a.every((function(t){return Number(e[t])>=0}))})).filter((function(e){return N()(e.date,"DD/MM/yyyy").toDate()<t}))}(e).map((function(e){return{date:N()(e.date,"DD/MM/yyyy").toDate(),totalconfirmed:+e.totalconfirmed,totalrecovered:+e.totalrecovered,totaldeceased:+e.totaldeceased,dailyconfirmed:+e.dailyconfirmed,dailyrecovered:+e.dailyrecovered,dailydeceased:+e.dailydeceased,totalactive:+e.totalconfirmed-+e.totalrecovered-+e.totaldeceased,dailyactive:+e.dailyconfirmed-+e.dailyrecovered-+e.dailydeceased}}))};var M=function(e){var t=new Intl.NumberFormat("en-US");return isNaN(e)?"-":t.format(e)},D=function(e){for(var t=e.states_daily,a=Object.keys(g).reduce((function(e,t){return e[t]=[],e}),{}),r=N()(),l=function(e){var l=N()(t[e].date,"DD/MM/yyyy");l.isBefore(r,"Date")&&Object.entries(a).forEach((function(a){var r=Object(n.a)(a,2),c=r[0],i=r[1],o=c.toLowerCase(),s=i[i.length-1]||{},d=+t[e][o]||0,m=+t[e+1][o]||0,u=+t[e+2][o]||0,p=+t[e][o]+(s.totalconfirmed||0),f=+t[e+1][o]+(s.totalrecovered||0),h=+t[e+2][o]+(s.totaldeceased||0);i.push({date:l.toDate(),dailyconfirmed:d,dailyrecovered:m,dailydeceased:u,totalconfirmed:p,totalrecovered:f,totaldeceased:h,totalactive:p-f-h,dailyactive:d-m-u})}))},c=0;c<t.length;c+=3)l(c);return a};var x=function(e){var t=Object(r.b)().t,a=[],n=s.a.createRef();if(d.d.global.elements.line.fill=!1,d.d.global.tooltips.intersect=!1,d.d.global.tooltips.mode="nearest",d.d.global.tooltips.position="average",d.d.global.tooltips.backgroundColor="rgba(255, 255, 255, 0.6)",d.d.global.tooltips.displayColors=!1,d.d.global.tooltips.borderColor="#c62828",d.d.global.tooltips.borderWidth=1,d.d.global.tooltips.titleFontColor="#000",d.d.global.tooltips.bodyFontColor="#000",d.d.global.tooltips.caretPadding=4,d.d.global.tooltips.intersect=!1,d.d.global.tooltips.mode="nearest",d.d.global.tooltips.position="nearest",d.d.global.legend.display=!0,d.d.global.legend.position="bottom",d.d.global.hover.intersect=!1,!e.data||0===e.data.length)return s.a.createElement("div",null);var l=new Map;e.data.forEach((function(e,t){"Confirmed"===e.status&&Object.keys(e).forEach((function(t){if("date"===t&&a.push(N()(e.date.trim(),"DD/MM/yyyy")),"status"!==t&&"date"!==t){l.has(t)||l.set(t,[]);var n=l.get(t).length>0?parseInt(l.get(t)[l.get(t).length-1]):0,r=""!==e[t]?parseInt(e[t]):0;l.get(t).push(n+r)}}))}));var c=new Map(Object(u.a)(l.entries()).sort((function(e,t){return e[1][e[1].length-1]<t[1][t[1].length-1]?1:-1}))),i=["#ff073a","#28a745","#342ead","#7D5BA6","#DD7596","#16c8f0","#f67575","#2b580c","#9D44B5","#91132d","#6D9DC5","#2b580c","#6c757d","#f67575","#d4f8e8"],o=0,m=[];c.forEach((function(e,a){var n;"tt"!==a&&(o>=10||(m.push({borderWidth:1.5,data:l.get(a),borderCapStyle:"round",pointBackgroundColor:i[o],label:t("statenames.".concat((n=a,g[n.toUpperCase()]).toLowerCase())),borderColor:i[o],pointHoverRadius:.5}),o++))}));var p={labels:a,datasets:m},f={responsive:!0,events:["click","mousemove","mouseout","touchstart","touchmove"],maintainAspectRatio:!1,tooltips:{mode:"index"},elements:{point:{radius:0},line:{tension:0}},layout:{padding:{left:20,right:20,top:0,bottom:0}},scales:{yAxes:[{type:"linear",ticks:{beginAtZero:!0,max:void 0,precision:0},scaleLabel:{display:!1,labelString:"Total Cases"}}],xAxes:[{type:"time",time:{unit:"day",tooltipFormat:"MMM DD",stepSize:7,displayFormats:{millisecond:"MMM DD",second:"MMM DD",minute:"MMM DD",hour:"MMM DD",day:"MMM DD",week:"MMM DD",month:"MMM DD",quarter:"MMM DD",year:"MMM DD"}},gridLines:{color:"rgba(0, 0, 0, 0)"}}]}};return s.a.createElement("div",{className:"charts-header"},s.a.createElement("div",{className:"chart-title"},e.title),s.a.createElement("div",{className:"chart-content"},s.a.createElement(d.c,{data:p,options:f,ref:n})),s.a.createElement("div",{className:"chart-note",style:{marginTop:"0px",height:"30px"}},s.a.createElement("button",{onClick:function(){for(var e=n.current.chartInstance,t=0;t<e.data.datasets.length;t++){var a=e.getDatasetMeta(t);a.hidden=null===a.hidden?!n.current.chartInstance.data.datasets[t].hidden:null}e.update()}},t("Toggle Selection"))))};var C=function(e){var t=[],a=[],n=[],r=[];if(d.d.global.elements.line.fill=!1,d.d.global.tooltips.intersect=!1,d.d.global.tooltips.mode="nearest",d.d.global.tooltips.position="average",d.d.global.tooltips.backgroundColor="rgba(255, 255, 255, 0.6)",d.d.global.tooltips.displayColors=!1,d.d.global.tooltips.borderColor="#c62828",d.d.global.tooltips.borderWidth=1,d.d.global.tooltips.titleFontColor="#000",d.d.global.tooltips.bodyFontColor="#000",d.d.global.tooltips.caretPadding=4,d.d.global.tooltips.intersect=!1,d.d.global.tooltips.mode="nearest",d.d.global.tooltips.position="nearest",d.d.global.legend.display=!0,d.d.global.legend.position="bottom",d.d.global.hover.intersect=!1,!e.timeseries||0===e.timeseries.length)return s.a.createElement("div",null);e.timeseries.forEach((function(e,l){l>=0&&(t.push(N()(e.date.trim(),"DD/MM/yyyy").format("DD MMM")),a.push(e.dailyconfirmed-e.dailyrecovered-e.dailydeceased),n.push(e.dailyrecovered),r.push(e.dailydeceased))}));var l={labels:t,datasets:[{data:n,label:"Recovered",backgroundColor:"#28a745"},{data:r,label:"Deceased",backgroundColor:"#6c757d"},{data:a,label:"Active",backgroundColor:"#ff073a"}]};return s.a.createElement("div",{className:"charts-header"},s.a.createElement("div",{className:"chart-title"},e.title),s.a.createElement("div",{className:"chart-content"},s.a.createElement(d.a,{data:l,options:{responsive:!0,tooltips:{mode:"index"},events:["mousemove","mouseout","touchstart","touchmove","touchend"],maintainAspectRatio:!1,legend:{display:!1},layout:{padding:{left:20,right:20,top:20,bottom:20}},scales:{xAxes:[{stacked:!0,gridLines:{color:"rgba(0, 0, 0, 0)"}}],yAxes:[{stacked:!0}]}}})))};var S=function(e){var t=Object(r.b)().t;d.d.global.tooltips.intersect=!1,d.d.global.tooltips.mode="nearest",d.d.global.tooltips.position="average",d.d.global.tooltips.backgroundColor="rgba(255, 255, 255, 0.8)",d.d.global.tooltips.displayColors=!1,d.d.global.tooltips.borderColor="#c62828",d.d.global.tooltips.borderWidth=1,d.d.global.tooltips.titleFontColor="#000",d.d.global.tooltips.bodyFontColor="#000",d.d.global.tooltips.caretPadding=4,d.d.global.tooltips.intersect=!1,d.d.global.tooltips.mode="nearest",d.d.global.tooltips.position="nearest",d.d.global.legend.display=!0,d.d.global.legend.position="bottom",d.d.global.hover.intersect=!1;var a=0,n=0,l=0;if(!e.data||0===e.data.length)return s.a.createElement("div",null);e.data.forEach((function(e){"M"===e.gender?a++:"F"===e.gender?n++:l++}));var c={datasets:[{data:[a,n,l],backgroundColor:["blue","pink","grey"],label:"Hola"}],labels:[t("Male"),t("Female"),t("Awaiting Details")]},i={layout:{padding:{left:20,right:20,top:0,bottom:20}},events:["mousemove","mouseout","touchstart","touchmove","touchend"],responsive:!0,maintainAspectRatio:!1,tooltips:{mode:"point",position:"nearest",callbacks:{label:function(e,t){var a=t.datasets[e.datasetIndex],n=a._meta[Object.keys(a._meta)[0]].total,r=a.data[e.index];return r+" ("+parseFloat((r/n*100).toFixed(1))+"%)"},title:function(e,t){return t.labels[e[0].index]}}}};return s.a.createElement("div",{className:"charts-header"},s.a.createElement("div",{className:"chart-title"},e.title),s.a.createElement("div",{className:"chart-content doughnut"},s.a.createElement(d.b,{data:c,options:i})))};var A=function(e){var t=Object(r.b)().t;if(d.d.global.tooltips.intersect=!1,d.d.global.tooltips.mode="nearest",d.d.global.tooltips.position="average",d.d.global.tooltips.backgroundColor="rgba(255, 255, 255, 0.8)",d.d.global.tooltips.displayColors=!1,d.d.global.tooltips.borderColor="#c62828",d.d.global.tooltips.borderWidth=1,d.d.global.tooltips.titleFontColor="#000",d.d.global.tooltips.bodyFontColor="#000",d.d.global.tooltips.caretPadding=4,d.d.global.tooltips.intersect=!1,d.d.global.tooltips.mode="nearest",d.d.global.tooltips.position="nearest",d.d.global.legend.display=!0,d.d.global.legend.position="bottom",d.d.global.hover.intersect=!1,!e.data||0===e.data.length)return s.a.createElement("div",null);var a={},n=0;e.data.forEach((function(e){e.nationality?(a.hasOwnProperty(e.nationality.toLowerCase())||(a[e.nationality.toLowerCase()]=0),a[e.nationality.toLowerCase()]++):n++}));var l=[],c=[];Object.keys(a).forEach((function(e){e&&(c.push(e.toUpperCase()),l.push(a[e]))}));var i={datasets:[{data:l,backgroundColor:["#ff7272","#ffb385","#fae7cb","#ffd31d","#00a8cc","#005082","#000839","#ffa41b","#f1e7b6","#400082","#fe346e","#5a3f11","#9c5518","#f67575","#d4f8e8","#1eb2a6"]}],labels:c},o={layout:{padding:{left:20,right:20,top:0,bottom:20}},legend:{display:!1},responsive:!0,maintainAspectRatio:!1,tooltips:{mode:"point",events:["mousemove","mouseout","touchstart","touchmove","touchend"],callbacks:{label:function(e,t){var a=t.datasets[e.datasetIndex],n=a._meta[Object.keys(a._meta)[0]].total,r=a.data[e.index];return r+" ("+parseFloat((r/n*100).toFixed(1))+"%)"},title:function(e,t){return t.labels[e[0].index]}}}};return s.a.createElement("div",{className:"charts-header"},s.a.createElement("div",{className:"chart-title"},e.title),s.a.createElement("div",{className:"chart-content doughnut"},s.a.createElement(d.b,{data:i,options:o})),s.a.createElement("div",{className:"chart-note"},"*",t("awaiting details for",{count:n})))};var I=function(e){var t=Object(r.b)().t,a=[],n=[],l=[],c=[];if(d.d.global.elements.line.fill=!1,d.d.global.tooltips.intersect=!1,d.d.global.tooltips.mode="nearest",d.d.global.tooltips.position="average",d.d.global.tooltips.backgroundColor="rgba(255, 255, 255, 0.6)",d.d.global.tooltips.displayColors=!1,d.d.global.tooltips.borderColor="#c62828",d.d.global.tooltips.borderWidth=1,d.d.global.tooltips.titleFontColor="#000",d.d.global.tooltips.bodyFontColor="#000",d.d.global.tooltips.caretPadding=4,d.d.global.tooltips.intersect=!1,d.d.global.tooltips.mode="nearest",d.d.global.tooltips.position="nearest",d.d.global.legend.display=!0,d.d.global.legend.position="bottom",d.d.global.hover.intersect=!1,!e.timeseries||0===e.timeseries.length)return s.a.createElement("div",null);e.timeseries.forEach((function(e,t){t>=0&&(a.push(N()(e.date.trim(),"DD/MM/YYYY")),n.push(e.totalconfirmed),l.push(e.totalrecovered),c.push(e.totaldeceased))}));var i={labels:a,datasets:[{borderWidth:2,data:n,borderCapStyle:"round",pointBackgroundColor:"#ff073a",label:t("confirmed.full"),borderColor:"#ff073a",pointHoverRadius:2},{borderWidth:2,data:l,borderCapStyle:"round",pointBackgroundColor:"#28a745",label:t("recovered.full"),borderColor:"#28a745",pointHoverRadius:2},{borderWidth:2,data:c,borderCapStyle:"round",pointBackgroundColor:"#6c757d",label:t("deceased.full"),borderColor:"#6c757d",pointHoverRadius:2}]},o={responsive:!0,events:["click","mousemove","mouseout","touchstart","touchmove","touchend"],maintainAspectRatio:!1,tooltips:{mode:"index"},elements:{point:{radius:0},line:{tension:.1}},layout:{padding:{left:20,right:20,top:0,bottom:20}},scales:{yAxes:[{type:"linear",ticks:{beginAtZero:!0,max:void 0,precision:0},scaleLabel:{display:!1,labelString:"Total Cases"}}],xAxes:[{type:"time",time:{unit:"day",tooltipFormat:"MMM DD",stepSize:7,displayFormats:{millisecond:"MMM DD",second:"MMM DD",minute:"MMM DD",hour:"MMM DD",day:"MMM DD",week:"MMM DD",month:"MMM DD",quarter:"MMM DD",year:"MMM DD"}},gridLines:{color:"rgba(0, 0, 0, 0)"}}]}};return e.mode&&(o.scales.yAxes=[{type:"logarithmic",ticks:{min:0,max:1e4,callback:function(e,t,a){return 1e4===e?"10000":2e3===e?"2500":500===e?"500":100===e?"100":20===e?"25":5===e?"5":0===e?"0":null}},scaleLabel:{display:!1,labelString:"Total Cases"}}]),s.a.createElement("div",{className:"charts-header"},s.a.createElement("div",{className:"chart-title"},e.title),s.a.createElement("div",{className:"chart-content"},s.a.createElement(d.c,{data:i,options:o})))},F=a(11),T=a.n(F);var R=function(e){var t=Object(r.b)().t,a=Object(o.useState)(!1),l=Object(n.a)(a,2),d=l[0],u=l[1],p=Object(o.useState)([]),f=Object(n.a)(p,2),h=f[0],g=f[1],v=Object(o.useState)([]),b=Object(n.a)(v,2),y=b[0],E=b[1],N=Object(o.useState)([]),j=Object(n.a)(N,2),O=j[0],w=j[1];Object(o.useEffect)((function(){!1===d&&k()}),[d]);var k=function(){var e=Object(i.a)(c.a.mark((function e(){var t,a,r,l,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([T.a.get("https://thantthet.github.io/covid19-api/data.json"),T.a.get("https://thantthet.github.io/covid19-api/raw_data.json"),T.a.get("https://thantthet.github.io/covid19-api/states_daily.json")]);case 3:t=e.sent,a=Object(n.a)(t,3),r=a[0],l=a[1],i=a[2],g(r.data.cases_time_series),w(i.data.states_daily),E(l.data.raw_data),u(!0),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:"cards-container"},s.a.createElement("section",{className:"cards"},s.a.createElement("div",{className:"card fadeInUp",style:{animationDelay:"0.7s"}},s.a.createElement(I,{title:t("Myanmar - Total Cases"),timeseries:h})),s.a.createElement("div",{className:"card fadeInUp",style:{animationDelay:"0.7s"}},s.a.createElement(C,{title:t("Myanmar - Daily Cases"),timeseries:h})),s.a.createElement("div",{className:"card fadeInUp",style:{animationDelay:"0.7s"}},s.a.createElement(x,{title:t("States - Total Cases"),data:O})),s.a.createElement("div",{className:"card fadeInUp",style:{animationDelay:"0.7s"}},s.a.createElement(S,{title:t("Patient Gender"),data:y})),s.a.createElement("div",{className:"card fadeInUp",style:{animationDelay:"0.7s"}},s.a.createElement(m,{title:t("Patient Age"),data:y})),s.a.createElement("div",{className:"card fadeInUp",style:{animationDelay:"0.7s"}},s.a.createElement(A,{title:t("Patient Nationality"),data:y}))))},U=a(459),L=a(460);var W=s.a.memo((function(e){var t=Object(r.b)().t;return s.a.createElement("footer",{className:"fadeInUp",style:{animationDelay:"2s"}},s.a.createElement("h5",null,t("We stand with everyone fighting on the frontlines")),s.a.createElement("a",{href:"https://github.com/thantthet/covid19myanmar-react",className:"button github",target:"_blank",rel:"noopener noreferrer"},s.a.createElement(U.a,null),s.a.createElement("span",null,"A fork of covid19india.org")),s.a.createElement("a",{className:"button excel",href:"http://covidmyanmar.com",target:"_blank",rel:"noopener noreferrer"},s.a.createElement(L.a,null),s.a.createElement("span",null,"Live data from covidmyanmar.com")))})),_=a(461);var B=s.a.memo((function(e){var t=Object(r.b)().t,a=Object(o.useState)(e.data),l=Object(n.a)(a,2),c=l[0],i=l[1];return Object(_.a)((function(){i({active:+e.data.active,confirmed:+e.data.confirmed,recovered:+e.data.recovered,deaths:+e.data.deaths,deltaconfirmed:+e.data.deltaconfirmed,deltadeaths:+e.data.deltadeaths,deltarecovered:+e.data.deltarecovered})})),s.a.createElement("div",{className:"Level"},s.a.createElement("div",{className:"level-item is-cherry fadeInUp",style:{animationDelay:"1s"}},s.a.createElement("h5",null,t("confirmed.full")),s.a.createElement("h4",null,"[",isNaN(c.deltaconfirmed)?"":c.deltaconfirmed>0?"+"+M(c.deltaconfirmed):"+0","]"),s.a.createElement("h1",null,M(c.confirmed)," ")),s.a.createElement("div",{className:"level-item is-blue fadeInUp",style:{animationDelay:"1.1s"}},s.a.createElement("h5",{className:"heading"},t("active.full")),s.a.createElement("h4",null,"\xa0"),s.a.createElement("h1",{className:"title has-text-info"},M(c.active))),s.a.createElement("div",{className:"level-item is-green fadeInUp",style:{animationDelay:"1.2s"}},s.a.createElement("h5",{className:"heading"},t("recovered.full")),s.a.createElement("h4",null,"[",isNaN(c.deltarecovered)?"":c.deltarecovered>0?"+"+M(c.deltarecovered):"+0","]"),s.a.createElement("h1",{className:"title has-text-success"},M(c.recovered)," ")),s.a.createElement("div",{className:"level-item is-gray fadeInUp",style:{animationDelay:"1.3s"}},s.a.createElement("h5",{className:"heading"},t("deceased.full")),s.a.createElement("h4",null,"[",isNaN(c.deltadeaths)?"":c.deltadeaths>0?"+"+M(c.deltadeaths):"+0","]"),s.a.createElement("h1",{className:"title has-text-grey"},M(c.deaths))))})),P=a(23),H=a(4);function Y(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,a=document.createElement("canvas"),n=(a.width=t,a.height=1,a).getContext("2d"),r=0;r<t;++r)n.fillStyle=e(r/(t-1)),n.fillRect(r,0,1,1);return a}var z=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.color,n=t.title,r=t.tickSize,l=void 0===r?6:r,c=t.width,i=void 0===c?320:c,o=t.height,s=void 0===o?44+l:o,d=t.marginTop,m=void 0===d?18:d,u=t.marginRight,p=void 0===u?0:u,f=t.marginBottom,h=void 0===f?16+l:f,g=t.marginLeft,v=void 0===g?0:g,b=t.ticks,y=void 0===b?i/64:b,E=t.tickFormat,N=t.tickValues,j=H.d("svg").attr("width",i).attr("height",s).attr("viewBox",[0,0,i,s]).style("overflow","visible").style("display","block"),O=function(e){e.selectAll(".tick line").attr("y1",m+h-s)};if(a.interpolate){var w=Math.min(a.domain().length,a.range().length);e=a.copy().rangeRound(H.x(H.o(v,i-p),w)),j.append("image").attr("x",v).attr("y",m).attr("width",i-v-p).attr("height",s-m-h).attr("preserveAspectRatio","none").attr("xlink:href",Y(a.copy().domain(H.x(H.o(0,1),w))).toDataURL())}else if(a.interpolator){if(e=Object.assign(a.copy().interpolator(H.q(v,i-p)),{range:function(){return[v,i-p]}}),j.append("image").attr("x",v).attr("y",m).attr("width",i-v-p).attr("height",s-m-h).attr("preserveAspectRatio","none").attr("xlink:href",Y(a.interpolator()).toDataURL()),!e.ticks){if(void 0===N){var k=Math.round(y+1);N=H.y(k).map((function(e){return H.w(a.domain(),e/(k-1))}))}"function"!==typeof E&&(E=H.l(void 0===E?",f":E))}}else if(a.invertExtent){var M=a.thresholds?a.thresholds():a.quantiles?a.quantiles():a.domain(),D=void 0===E?function(e){return e}:"string"===typeof E?H.l(E):E;e=H.A().domain([-1,a.range().length-1]).rangeRound([v,i-p]),j.append("g").selectAll("rect").data(a.range()).join("rect").attr("x",(function(t,a){return e(a-1)})).attr("y",m).attr("width",(function(t,a){return e(a)-e(a-1)})).attr("height",s-m-h).attr("fill",(function(e){return e})),N=H.y(-1,M.length),E=function(e){return-1===e?D(1):e!==M.length-1?e===M.length-2?D(M[e]+"+",e):D(M[e],e):void 0}}else e=H.z().domain(a.domain()).rangeRound([v,i-p]),j.append("g").selectAll("rect").data(a.domain()).join("rect").attr("x",e).attr("y",m).attr("width",Math.max(0,e.bandwidth()-1)).attr("height",s-m-h).attr("fill",a),O=function(){};return j.append("g").attr("transform","translate(0,".concat(s-h,")")).call(H.a(e).ticks(y,"string"===typeof E?E:void 0).tickFormat("function"===typeof E?E:void 0).tickSize(l).tickValues(N)).call(O).call((function(e){return e.select(".domain").remove()})).call((function(e){return e.append("text").attr("x",v).attr("y",m+h-s-6).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").text(n)})),j.node()},V=a(133),K={country:"ST",state:"DT"};var q=s.a.memo((function(e){var t=e.statistic,a=e.mapData,l=e.setHoveredRegion,d=e.mapMeta,m=e.changeMap,u=e.selectedRegion,h=e.setSelectedRegion,g=e.isCountryLoaded,v=Object(r.b)().t,b=Object(o.useRef)(null),y=Object(o.useRef)(null),E=Object(o.useState)(0),N=Object(n.a)(E,2),j=N[0],O=N[1],w=Object(o.useCallback)((function(e){H.F("svg#chart > *").remove();var n,r,c,i=K[d.mapType],o=H.E(b.current),s=V.a(e,e.objects[d.graphObjectName]),u=H.m();if(!o.attr("viewBox")){var E=parseInt(o.style("width"));if(g)u.fitWidth(E,s);else{var N=parseInt(o.style("height"));u.fitSize([E,N],s)}var j=(n=H.n(u)).bounds(s);r=+j[1][0],c=+j[1][1],o.attr("viewBox","0 0 ".concat(r," ").concat(c))}var O=o.attr("viewBox").split(" ");r=+O[2],c=+O[3],u.fitSize([r,c],s),n=H.n(u);var w=H.E(y.current);w.selectAll("*").remove();var M=H.C([0,t.maxConfirmed],(function(e){return H.p(.85*e)})),D=parseInt(w.style("width")),x={left:.02*D,right:.02*D},C=D-x.left-x.right,S=+w.attr("height");w.append("g").style("transform","translateX(".concat(x.left,"px)")).append((function(){return z({color:M,title:v("map.legends.confirmedcases"),width:C,height:.8*S,ticks:6,tickFormat:function(e,t,a){if(Number.isInteger(e))return t===a.length-1?e+"+":e}})})),w.attr("viewBox","0 0 ".concat(D," ").concat(S));var A=null,I=o.append("g").attr("class",d.graphObjectName);I.append("g").attr("class","states").selectAll("path").data(s.features).join("path").attr("class","path-region").attr("fill",(function(e){var t=parseInt(a[e.properties[i]])||0;return 0===t?"#ffffff":M(t)})).attr("d",n).attr("pointer-events","all").on("mouseenter",(function(e){F(e.properties[i])})).on("mouseleave",(function(e){A===e&&(A=null)})).on("touchstart",(function(e){A=A===e?null:e})).on("click",(function(e){if(H.g.stopPropagation(),A||d.mapType===f)return;m(e.properties[i])})).style("cursor","pointer").append("title").text((function(e){var n=a[e.properties[i]]||0;return Number(parseFloat(n/(t.total||.001)*100).toFixed(2)).toString()+"% from "+k(e.properties[i])})),I.append("path").attr("class","borders").attr("stroke","#ff073a20").attr("fill","none").attr("stroke-width",2).attr("d",n(V.b(e,e.objects[d.graphObjectName])));var F=function(e){try{h(e),l(e,d)}catch(t){console.log("err",t)}};o.on("click",(function(){h(null),d.mapType===p&&l("Total",d)}))}),[a,d,t.total,t.maxConfirmed,m,l,h,g,v]),k=function(e){e=e.toLowerCase().split(" ");for(var t=0;t<e.length;t++)e[t]=e[t].charAt(0).toUpperCase()+e[t].slice(1);return e.join(" ")};return Object(o.useEffect)((function(){Object(i.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.r(d.geoDataFile);case 2:a=e.sent,t&&b.current&&(w(a),O((function(e){return e+1})));case 4:case"end":return e.stop()}}),e)})))()}),[d.geoDataFile,t,w]),Object(o.useEffect)((function(){var e;e=u,H.F(".path-region").classed("map-hover",(function(t,a,n){var r=K.state in t.properties?K.state:K.country;return e===t.properties[r]&&(n[a].parentNode.appendChild(n[a]),!0)}))}),[j,u]),s.a.createElement("div",null,s.a.createElement("div",{className:"svg-parent fadeInUp",style:{animationDelay:"2.5s"}},s.a.createElement("svg",{id:"chart",preserveAspectRatio:"xMidYMid meet",ref:b})),s.a.createElement("div",{className:"svg-parent legend fadeInUp",style:{animationDelay:"2.5s"}},s.a.createElement("svg",{id:"legend",height:"65",preserveAspectRatio:"xMidYMid meet",ref:y})))})),J=a(482),G=a(463),Z=a(464),X=a(18),$=function(e){if(e){var t=Object(P.a)({},e);return t.name||(t.name=t.state),t}};var Q=s.a.memo((function(e){var t=e.mapMeta,a=e.states,l=e.stateDistrictWiseData,c=(e.stateTestData,e.regionHighlighted),i=e.onMapHighlightChange,d=e.isCountryLoaded,m=e.anchor,u=e.setAnchor,g=Object(r.b)().t,v=Object(o.useState)({}),b=Object(n.a)(v,2),y=b[0],E=b[1],N=Object(o.useState)($(a[0])),j=Object(n.a)(N,2),k=j[0],D=j[1],x=Object(o.useState)($(a[0])),C=Object(n.a)(x,2),S=C[0],A=C[1],I=Object(o.useState)(t),F=Object(n.a)(I,2),T=F[0],R=F[1],U=Object(o.useMemo)((function(){var e={total:0,maxConfirmed:0},t={};if(T.mapType===p)t=a.reduce((function(t,a){if("Total"===a.state)return t;var n=parseInt(a.confirmed);return e.total+=n,n>e.maxConfirmed&&(e.maxConfirmed=n),t[a.state]=a.confirmed,t}),{});else if(T.mapType===f){var n=(l[T.name]||{districtData:{}}).districtData;t=Object.keys(n).reduce((function(t,a){var r=parseInt(n[a].confirmed);return e.total+=r,r>e.maxConfirmed&&(e.maxConfirmed=r),t[a]=n[a].confirmed,t}),{})}return[e,t]}),[T,a,l]),L=Object(n.a)(U,2),W=L[0],_=L[1],B=Object(o.useCallback)((function(e,t){if(t.mapType===p){var n=$(a.find((function(t){return e===t.state})));A(n),D(n),i(n)}else if(t.mapType===f){var r=(l[t.name]||{districtData:{}}).districtData[e];r||(r={confirmed:0,active:0,deaths:0,recovered:0});var c=function(e,t){if(e){var a=Object(P.a)({},e);return a.name||(a.name=t),a}}(r,e),o=$(a.find((function(e){return t.name===e.state})));D(o),c.statecode=o.statecode,A(c),i&&i(o)}}),[a,l,i]);Object(o.useEffect)((function(){if(void 0!==c&&null!==c)if(!("district"in c)){var e=h.Myanmar;R(e);var t=$(c.state);B(t.name,e),E(t.name)}else{var a=h[c.state.state];if(!a)return;R(a),B(c.district,a),E(c.district)}}),[c,B]);var H=Object(o.useCallback)((function(e){var t=h[e];if(t)if(R(t),E(null),t.mapType===p)B(a[0].state,t);else if(t.mapType===f){var n=(l[e]||{districtData:{}}).districtData,r=Object.keys(n).filter((function(e){return"Unknown"!==e})).sort((function(e,t){return n[t].confirmed-n[e].confirmed}))[0];B(r,t),E(r)}}),[B,l,a]),Y=S.name,z=S.lastupdatedtime;return s.a.createElement("div",{className:"MapExplorer fadeInUp ".concat("mapexplorer"===m?"stickied":""),style:{animationDelay:"1.5s",display:"timeseries"===m?"none":""}},window.innerWidth>769&&s.a.createElement("div",{className:"anchor ".concat("mapexplorer"===m?"stickied":""),onClick:function(){u("mapexplorer"===m?null:"mapexplorer")}},s.a.createElement(G.a,null)),s.a.createElement("div",{className:"header"},s.a.createElement("h1",null,g("Map",{name:g(T.name)})),s.a.createElement("h6",null,window.innerWidth<=769?T.mapType===p?g("map.tap.state"):g("map.tap.district"):T.mapType===p?g("map.hover.state"):g("map.hover.district"))),s.a.createElement("div",{className:"map-stats"},s.a.createElement("div",{className:"stats fadeInUp",style:{animationDelay:"2s"}},s.a.createElement("h5",null,window.innerWidth<=769?g("confirmed.short"):g("confirmed.full")),s.a.createElement("div",{className:"stats-bottom"},s.a.createElement("h1",null,M(k.confirmed)),s.a.createElement("h6",null,"+".concat(M(k.deltaconfirmed))))),s.a.createElement("div",{className:"stats is-blue fadeInUp",style:{animationDelay:"2.1s"}},s.a.createElement("h5",null,window.innerWidth<=769?g("active.short"):g("active.full")),s.a.createElement("div",{className:"stats-bottom"},s.a.createElement("h1",null,M(k.active)),s.a.createElement("h6",null," "))),s.a.createElement("div",{className:"stats is-green fadeInUp",style:{animationDelay:"2.2s"}},s.a.createElement("h5",null,window.innerWidth<=769?g("recovered.short"):g("recovered.full")),s.a.createElement("div",{className:"stats-bottom"},s.a.createElement("h1",null,M(k.recovered)),s.a.createElement("h6",null,"+".concat(M(k.deltarecovered))))),s.a.createElement("div",{className:"stats is-gray fadeInUp",style:{animationDelay:"2.3s"}},s.a.createElement("h5",null,window.innerWidth<=769?g("deceased.short"):g("deceased.full")),s.a.createElement("div",{className:"stats-bottom"},s.a.createElement("h1",null,M(k.deaths)),s.a.createElement("h6",null,"+".concat(M(k.deltadeaths)))))),s.a.createElement("div",{className:"meta fadeInUp",style:{animationDelay:"2.4s"}},s.a.createElement("h2",null,T.mapType===p?g("statenames.".concat(Y.toLowerCase())):Y),z&&s.a.createElement("div",{className:"last-update ".concat(T.mapType===f?"district-last-update":"state-last-update")},s.a.createElement("h6",null,g("Last updated")),s.a.createElement("h3",{title:isNaN(Date.parse(O(z)))?"":w(z)},g("ago",{time:isNaN(Date.parse(O(z)))?"":Object(J.a)(new Date(O(z)),new Date)}))),T.mapType===f&&S.name!==T.name?s.a.createElement("h1",{className:"district-confirmed"},_[S.name]?_[S.name]:0,s.a.createElement("br",null),s.a.createElement("span",{style:{fontSize:"0.75rem",fontWeight:600}},g("confirmed.full"))):null,T.mapType===f&&_.Unknown>0?s.a.createElement("h4",{className:"unknown"},"Districts unknown for ",_.Unknown," people"):null,T.mapType===f?s.a.createElement("div",{className:"button back-button",onClick:function(){return H("Myanmar")}},g("Back")):null,T.mapType===f?s.a.createElement(X.b,{to:"state/".concat(S.statecode)},s.a.createElement("div",{className:"button state-page-button"},s.a.createElement("abbr",null,g("Visit state page")),s.a.createElement(Z.a,null))):null),s.a.createElement(q,{statistic:W,mapMeta:T,mapData:_,setHoveredRegion:B,changeMap:H,selectedRegion:y,setSelectedRegion:E,isCountryLoaded:d}))}));var ee=s.a.memo((function(e){var t=e.timeseries,a=Object(o.useState)([]),r=Object(n.a)(a,2),l=r[0],c=r[1],i=Object(o.useRef)(),d=Object(o.useRef)(),m=Object(o.useRef)(),u=Object(o.useRef)();Object(o.useEffect)((function(){c(t.slice(t.length-20))}),[t]);var p=Object(o.useCallback)((function(e){if(e.length<=1)return 0;var t=0,a=0,n=100-10,r=100-30,l=H.E(i.current),c=H.E(d.current),o=H.E(m.current),s=H.E(u.current);e.forEach((function(e){e.dailyactive=e.dailyconfirmed-e.dailyrecovered-e.dailydeceased}));var p=H.D().domain(H.h(e,(function(e){return e.date}))).range([a,n]),f=[l,c,o,s],h=["dailyconfirmed","dailyactive","dailyrecovered","dailydeceased"],g=["#ff073a","#007bff","#28a745","#6c757d"],v=H.u(e,(function(e){return e.dailyactive})),b=H.t(e,(function(e){return Math.max(e.dailyconfirmed,e.dailyrecovered,e.dailydeceased)})),y=Math.max(-v,b),E=H.A().domain([-y,y]).range([r,t]);f.forEach((function(t,a){var n=h[a],r=g[a],l=t.append("path").datum(e).attr("fill","none").attr("stroke",r+"99").attr("stroke-width",3).attr("cursor","pointer").attr("d",H.s().x((function(e){return p(e.date)})).y((function(e){return E(e[n])})).curve(H.e)),c=l.node().getTotalLength();l.attr("stroke-dasharray",c+" "+c).attr("stroke-dashoffset",c).transition().delay(500).duration(2500).attr("stroke-dashoffset",0),t.selectAll(".dot").data(e.slice(e.length-1)).enter().append("circle").attr("fill",r).attr("stroke",r).attr("r",2).attr("cursor","pointer").attr("cx",(function(e){return p(e.date)})).attr("cy",(function(e){return E(e[n])})).on("mouseover",(function(e){H.E(H.g.target).attr("r","5")})).on("mouseout",(function(e){H.E(H.g.target).attr("r","2")})).style("opacity",0).transition().delay(500).duration(2500).style("opacity",1)}))}),[]);return Object(o.useEffect)((function(){p(l)}),[l,p]),s.a.createElement("div",{className:"Minigraph"},s.a.createElement("div",{className:"svg-parent fadeInUp",style:{animationDelay:"1.4s"}},s.a.createElement("svg",{ref:i,width:"100",height:"100",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid meet"})),s.a.createElement("div",{className:"svg-parent is-blue fadeInUp",style:{animationDelay:"1.5s"}},s.a.createElement("svg",{ref:d,width:"100",height:"100",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid meet"})),s.a.createElement("div",{className:"svg-parent is-green fadeInUp",style:{animationDelay:"1.6s"}},s.a.createElement("svg",{ref:m,width:"100",height:"100",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid meet"})),s.a.createElement("div",{className:"svg-parent is-gray fadeInUp",style:{animationDelay:"1.7s"}},s.a.createElement("svg",{ref:u,width:"100",height:"100",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid meet"})))})),te=a(37),ae=a(465),ne=a(466),re=a(467),le=a(129);var ce=s.a.memo((function(e){var t=Object(r.b)().t,a=Object(o.useState)(e.state),l=Object(n.a)(a,2),c=l[0],i=l[1],d=Object(o.useState)(e.districts),m=Object(n.a)(d,2),u=m[0],p=m[1],f=Object(o.useState)(e.districts),h=Object(n.a)(f,2),g=h[0],v=h[1],b=Object(o.useState)({sortColumn:localStorage.getItem("district.sortColumn")?localStorage.getItem("district.sortColumn"):"confirmed",isAscending:!!localStorage.getItem("district.isAscending")&&"true"===localStorage.getItem("district.isAscending")}),y=Object(n.a)(b,2),E=y[0],N=y[1];Object(o.useEffect)((function(){i(e.state)}),[e.state]),Object(o.useEffect)((function(){p(e.districts),v(e.districts)}),[e.districts]);var j={tooltip:{background:"#000",borderRadius:"10px",fontSize:".8em",left:"250%",opacity:.65},wrapper:{cursor:"cursor",display:"inline-block",position:"relative",textAlign:"center"},arrow:{left:"37%"}},k=function(){e.handleReveal(e.state.state)},D=Object(o.useCallback)((function(e){var t={};e&&(Object.keys(e).sort((function(t,a){var n=E.sortColumn,r="district"===n?t:parseInt(e[t].confirmed),l="district"===n?a:parseInt(e[a].confirmed),c=r>l||r===l&&t>a?1:-1;return E.isAscending?c:-1*c})).forEach((function(a){t[a]=e[a]})),v(t))}),[E.isAscending,E.sortColumn]),x=function(e){var t=E.sortColumn===e?!E.isAscending:"district"===E.sortColumn;N({sortColumn:e,isAscending:t}),localStorage.setItem("district.sortColumn",e),localStorage.setItem("district.isAscending",t)};return Object(o.useEffect)((function(){D(u)}),[u,E,D]),s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{className:"state ".concat(e.total?"is-total":""," ").concat(e.index%2===0?"is-odd":""),onMouseEnter:function(){var t;return null===(t=e.onHighlightState)||void 0===t?void 0:t.call(e,c,e.index)},onMouseLeave:function(){var t;return null===(t=e.onHighlightState)||void 0===t?void 0:t.call(e)},onClick:e.total?null:k,style:{background:e.index%2===0?"#f8f9fa":""}},s.a.createElement("td",{style:{fontWeight:600}},s.a.createElement("div",{className:"table__title-wrapper"},s.a.createElement("span",{className:"dropdown ".concat(e.reveal?"rotateRightDown":"rotateDownRight"),style:{display:e.total?"none":""},onClick:function(){k()}},s.a.createElement(ae.a,null)),s.a.createElement("span",{className:"actual__title-wrapper"},t("statenames.".concat(c.state.toLowerCase())),c.statenotes&&s.a.createElement("span",{onClick:function(e){e.stopPropagation()}},s.a.createElement(le.Tooltip,{content:["".concat(c.statenotes)],styles:j},s.a.createElement(ne.a,null)))))),s.a.createElement("td",null,s.a.createElement("span",{className:"deltas",style:{color:"#ff073a"}},c.deltaconfirmed>0&&s.a.createElement(re.a,null),c.deltaconfirmed>0?"".concat(c.deltaconfirmed):""),s.a.createElement("span",{className:"table__count-text"},0===parseInt(c.confirmed)?"-":M(c.confirmed))),s.a.createElement("td",{style:{color:0===parseInt(c.active)?"#B5B5B5":"inherit"}},0===parseInt(c.active)?"-":M(c.active)),s.a.createElement("td",{style:{color:0===parseInt(c.recovered)?"#B5B5B5":"inherit"}},s.a.createElement("span",{className:"deltas",style:{color:"#28a745"}},c.deltarecovered>0&&s.a.createElement(re.a,null),c.deltarecovered>0?"".concat(c.deltarecovered):""),s.a.createElement("span",{className:"table__count-text"},0===parseInt(c.recovered)?"-":M(c.recovered))),s.a.createElement("td",{style:{color:0===parseInt(c.deaths)?"#B5B5B5":"inherit"}},s.a.createElement("span",{className:"deltas",style:{color:"#6c757d"}},c.deltadeaths>0&&s.a.createElement(re.a,null),c.deltadeaths>0?"".concat(c.deltadeaths):""),s.a.createElement("span",{className:"table__count-text"},0===parseInt(c.deaths)?"-":M(c.deaths)))),s.a.createElement("tr",{className:"state-last-update",style:{display:e.reveal&&!e.total?"":"none"}},s.a.createElement("td",{colSpan:2},s.a.createElement("div",{className:"last-update"},s.a.createElement("h6",null,"Last updated\xa0"),s.a.createElement("h6",{title:isNaN(Date.parse(O(e.state.lastupdatedtime)))?"":w(e.state.lastupdatedtime)},isNaN(Date.parse(O(e.state.lastupdatedtime)))?"":"".concat(Object(J.a)(new Date(O(e.state.lastupdatedtime)),new Date)," ago"))))),s.a.createElement("tr",{className:"district-heading",style:{display:e.reveal&&!e.total?"":"none"}},s.a.createElement("td",{onClick:function(e){return x("district")}},s.a.createElement("div",{className:"heading-content"},s.a.createElement("abbr",{title:"District"},t("District")),s.a.createElement("div",{style:{display:"district"===E.sortColumn?"initial":"none"}},E.isAscending?s.a.createElement("div",{className:"arrow-up"}):s.a.createElement("div",{className:"arrow-down"})))),s.a.createElement("td",{onClick:function(e){return x("confirmed")}},s.a.createElement("div",{className:"heading-content"},s.a.createElement("abbr",{className:"".concat(window.innerWidth<=769?"is-cherry":""),title:"Confirmed"},window.innerWidth<=769?window.innerWidth<=375?t("confirmed.shorter"):t("confirmed.short"):t("confirmed.full")),s.a.createElement("div",{style:{display:"confirmed"===E.sortColumn?"initial":"none"}},E.isAscending?s.a.createElement("div",{className:"arrow-up"}):s.a.createElement("div",{className:"arrow-down"})))),s.a.createElement("td",{className:"state-page-link",colSpan:3},s.a.createElement(X.b,{to:"state/".concat(c.statecode)},s.a.createElement("div",null,s.a.createElement("abbr",null,t("Visit state page")),s.a.createElement(Z.a,null))))),g&&Object.keys(g).filter((function(e){return"unknown"!==e.toLowerCase()})).map((function(t,a){return"unknown"!==t.toLowerCase()?s.a.createElement("tr",{key:a,className:"district ".concat(a%2===0?"is-odd":""),style:{display:e.reveal&&!e.total?"":"none",background:a%2===0?"#f8f9fa":""},onMouseEnter:function(){var a;return null===(a=e.onHighlightDistrict)||void 0===a?void 0:a.call(e,t,c,e.index)},onMouseLeave:function(){var t;return null===(t=e.onHighlightDistrict)||void 0===t?void 0:t.call(e)}},s.a.createElement("td",{style:{fontWeight:600}},t),s.a.createElement("td",null,s.a.createElement("span",{className:"deltas",style:{color:"#ff073a"}},g[t].delta.confirmed>0&&s.a.createElement(re.a,null),g[t].delta.confirmed>0?"".concat(g[t].delta.confirmed):""),s.a.createElement("span",{className:"table__count-text"},M(g[t].confirmed)))):null})),(null===g||void 0===g?void 0:g.Unknown)&&s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{className:"district",style:{display:e.reveal&&!e.total?"":"none"}},s.a.createElement("td",{className:"unknown",style:{fontWeight:600}},"Unknown",s.a.createElement(le.Tooltip,{content:["Awaiting patient-level details from State Bulletin"],styles:j},s.a.createElement(ne.a,null))),s.a.createElement("td",null,s.a.createElement("span",{className:"deltas",style:{color:"#ff073a"}},g.Unknown.delta.confirmed>0&&s.a.createElement(re.a,null),g.Unknown.delta.confirmed>0?"".concat(g.Unknown.delta.confirmed):""),s.a.createElement("span",{className:"table__count-text"},M(g.Unknown.confirmed))))),s.a.createElement("tr",{className:"spacer",style:{display:e.reveal&&!e.total?"":"none"}},s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null)))}));var ie=s.a.memo((function(e){var t=Object(r.b)().t,a=Object(o.useState)(e.states),l=Object(n.a)(a,2),c=l[0],i=l[1],d=Object(o.useState)({}),m=Object(n.a)(d,2),u=m[0],p=m[1],f=Object(o.useState)({}),h=Object(n.a)(f,2),g=h[0],v=h[1],b=Object(o.useState)(0),y=Object(n.a)(b,2),E=y[0],N=y[1],j=Object(o.useState)({sortColumn:localStorage.getItem("state.sortColumn")?localStorage.getItem("state.sortColumn"):"confirmed",isAscending:!!localStorage.getItem("state.isAscending")&&"true"===localStorage.getItem("state.isAscending")}),O=Object(n.a)(j,2),w=O[0],k=O[1];Object(o.useEffect)((function(){!0===e.summary?i(e.states.slice(0,9)):i(e.states)}),[e.states,e.summary]),Object(o.useEffect)((function(){e.states[0]&&p(e.states.reduce((function(e,t){return Object(P.a)({},e,Object(te.a)({},t.state,!1))}),{}))}),[e.states]),Object(o.useEffect)((function(){c.length>0&&N(c.slice(1).filter((function(e){return e&&e.confirmed>0})).length)}),[c]),Object(o.useEffect)((function(){v(e.stateDistrictWiseData)}),[e.stateDistrictWiseData]);var M=function(e,t){var a=e.currentTarget.querySelector("abbr").getAttribute("title").toLowerCase(),n=w.sortColumn===a?!w.isAscending:"state"===w.sortColumn;k({sortColumn:a,isAscending:n}),localStorage.setItem("state.sortColumn",a),localStorage.setItem("state.isAscending",n)},D=function(e){p(Object(P.a)({},u,Object(te.a)({},e,!u[e])))};return function(e,t){var a=c.splice(0,1);c.sort((function(e,t){var a=w.sortColumn,n=e[a],r=t[a];return"state"!==a&&(n=parseInt(e[a]),r=parseInt(t[a])),w.isAscending?n>r||n===r&&e.state>t.state?1:-1:n<r||n===r&&e.state>t.state?1:-1})),c.unshift(a[0])}(),c.length>0?s.a.createElement(s.a.Fragment,null,s.a.createElement("h5",{className:"table-fineprint fadeInUp",style:{animationDelay:"1.5s"}},t("data compilation info")),s.a.createElement("table",{className:"table fadeInUp",style:{animationDelay:"1.8s"}},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"sticky state-heading",onClick:function(e){return M(e)}},s.a.createElement("div",{className:"heading-content"},s.a.createElement("abbr",{title:"State"},t("states")),s.a.createElement("div",{style:{display:"state"===w.sortColumn?"initial":"none"}},w.isAscending?s.a.createElement("div",{className:"arrow-up"}):s.a.createElement("div",{className:"arrow-down"})))),s.a.createElement("th",{className:"sticky",onClick:function(e){return M(e)}},s.a.createElement("div",{className:"heading-content"},s.a.createElement("abbr",{className:"".concat(window.innerWidth<=769?"is-cherry":""),title:"Confirmed"},window.innerWidth<=769?window.innerWidth<=375?t("confirmed.shorter"):t("confirmed.short"):t("confirmed.full")),s.a.createElement("div",{style:{display:"confirmed"===w.sortColumn?"initial":"none"}},w.isAscending?s.a.createElement("div",{className:"arrow-up"}):s.a.createElement("div",{className:"arrow-down"})))),s.a.createElement("th",{className:"sticky",onClick:function(e){return M(e)}},s.a.createElement("div",{className:"heading-content"},s.a.createElement("abbr",{className:"".concat(window.innerWidth<=769?"is-blue":""),title:"Active"},window.innerWidth<=769?window.innerWidth<=375?t("active.shorter"):t("active.short"):t("active.full")),s.a.createElement("div",{style:{display:"active"===w.sortColumn?"initial":"none"}},w.isAscending?s.a.createElement("div",{className:"arrow-up"}):s.a.createElement("div",{className:"arrow-down"})))),s.a.createElement("th",{className:"sticky",onClick:function(e){return M(e)}},s.a.createElement("div",{className:"heading-content"},s.a.createElement("abbr",{className:"".concat(window.innerWidth<=769?"is-green":""),title:"Recovered"},window.innerWidth<=769?window.innerWidth<=375?t("recovered.shorter"):t("recovered.short"):t("recovered.full")),s.a.createElement("div",{className:"recovered"===w.sortColumn?"sort-black":""}),s.a.createElement("div",{style:{display:"recovered"===w.sortColumn?"initial":"none"}},w.isAscending?s.a.createElement("div",{className:"arrow-up"}):s.a.createElement("div",{className:"arrow-down"})))),s.a.createElement("th",{className:"sticky",onClick:function(e){return M(e)}},s.a.createElement("div",{className:"heading-content"},s.a.createElement("abbr",{className:"".concat(window.innerWidth<=769?"is-gray":""),title:"Deaths"},window.innerWidth<=769?window.innerWidth<=375?t("deceased.shorter"):t("deceased.short"):t("deceased.full")),s.a.createElement("div",{style:{display:"deaths"===w.sortColumn?"initial":"none"}},w.isAscending?s.a.createElement("div",{className:"arrow-up"}):s.a.createElement("div",{className:"arrow-down"})))))),s.a.createElement("tbody",null,c.map((function(t,a){return 0!==a&&t.confirmed>0?s.a.createElement(ce,{key:a,index:a,state:t,total:!1,reveal:u[t.state],districts:t.state in g?g[t.state].districtData:[],onHighlightState:e.onHighlightState,onHighlightDistrict:e.onHighlightDistrict,handleReveal:D}):null}))),s.a.createElement("tbody",null,c.length>1&&!1===e.summary&&s.a.createElement(ce,{key:0,state:c[0],total:!0,onHighlightState:e.onHighlightState}))),s.a.createElement("h5",{className:"table-fineprint fadeInUp",style:{animationDelay:"1s"}},t("States Affected",{count:E}))):s.a.createElement("div",{style:{height:"50rem"}})}),(function(){return!0})),oe=a(231);var se=s.a.memo((function(e){var t=Object(r.b)().t,a=Object(o.useState)(window.innerWidth>512?1/0:30),l=Object(n.a)(a,2),c=l[0],i=l[1],d=Object(o.useState)([]),m=Object(n.a)(d,2),p=m[0],f=m[1],h=Object(o.useState)({}),g=Object(n.a)(h,2),v=g[0],b=g[1],y=Object(o.useState)(0),E=Object(n.a)(y,2),j=E[0],O=E[1],w=Object(o.useState)(e.mode),k=Object(n.a)(w,2),D=k[0],x=k[1],C=Object(o.useState)(e.logMode),S=Object(n.a)(C,2),A=S[0],I=S[1],F=Object(o.useState)(e.type),T=Object(n.a)(F,2),R=T[0],U=T[1],L=Object(o.useState)(e.stateCode),W=Object(n.a)(L,1)[0],_=Object(o.useState)(!1),B=Object(n.a)(_,2),P=B[0],Y=B[1],z=Object(o.useRef)(),V=Object(o.useRef)(),K=Object(o.useRef)(),q=Object(o.useRef)(),J=Object(o.useRef)(),G=function(e){var t=Object(o.useState)(null),a=Object(n.a)(t,2),r=a[0],l=a[1];return Object(o.useEffect)((function(){var t=e.current,a=new oe.a((function(e,t){e.forEach((function(e,t){l(e.contentRect)}))}));return a.observe(t),function(){a.unobserve(t)}}),[e]),r}(J),Z=Object(o.useCallback)((function(e){if(e.length>1){var t=function(e,t){return e.slice(-t)}(e,c);O(t.length-1),f(t)}}),[c]);Object(o.useEffect)((function(){Z(e.timeseries)}),[W,c,Z,e.timeseries]),Object(o.useEffect)((function(){x(e.mode)}),[e.mode]),Object(o.useEffect)((function(){I(e.logMode)}),[e.logMode]),Object(o.useEffect)((function(){U(e.type)}),[e.type]);var X=Object(o.useCallback)((function(e){if(G){var t=G.width,a=G.height,n=15,r=25,l=t-35,c=a-25,i=e.length;b(e[i-1]),O(i-1);var o=H.E(z.current),s=H.E(V.current),d=H.E(K.current),m=H.E(q.current),p=new Date(e[0].date);p.setDate(p.getDate()-1);var f=new Date(e[i-1].date);f.setDate(f.getDate()+1);var h,g=H.D().clamp(!0).domain([p,f]).range([r,l]),v=t<480?4:7,y=function(e){return e.attr("class","x-axis").call(H.a(g).ticks(v)).style("transform","translateY(".concat(c,"px)"))},E=function(e,t){e.attr("class","x-axis2").call(H.a(g).tickValues([]).tickSize(0)).select(".domain").style("transform","translateY(".concat(t(0),"px)")),t(0)!==c?e.select(".domain").attr("opacity",.4):e.select(".domain").attr("opacity",0)},N=function(e,t){return e.attr("class","y-axis").call(H.b(t).ticks(4,"0~s").tickPadding(5)).style("transform","translateX(".concat(l,"px)"))},j=[o,s,d,m],w=1===R,k=["totalconfirmed","totalactive","totalrecovered","totaldeceased"],M=["dailyconfirmed","dailyactive","dailyrecovered","dailydeceased"],x=["#ff073a","#007bff","#28a745","#6c757d"];if(w){var C=1/0;k.forEach((function(t){C=Math.min(C,H.u(e,(function(e){return e[t]})))}));var S=H.A().clamp(!0).domain([C,Math.max(1,1.1*H.t(e,(function(e){return e.totalconfirmed})))]).nice().range([c,n]),I=H.B().clamp(!0).domain([Math.max(1,C),Math.max(1,1.1*H.t(e,(function(e){return e.totalconfirmed})))]).nice().range([c,n]);h=k.map((function(t){var a=H.A().clamp(!0).domain([H.u(e,(function(e){return e[t]})),Math.max(1,1.1*H.t(e,(function(e){return e[t]})))]).nice().range([c,n]),r=H.B().clamp(!0).domain([Math.max(1,H.u(e,(function(e){return e[t]}))),Math.max(1,1.1*H.t(e,(function(e){return e[t]})))]).nice().range([c,n]);return A?D?I:r:D?S:a}))}else{var F=H.A().clamp(!0).domain([1.1*Math.min(0,H.u(e,(function(e){return e.dailyactive}))),Math.max(1,1.1*H.t(e,(function(e){return Math.max(e.dailyconfirmed,e.dailyrecovered,e.dailydeceased)})))]).nice().range([c,n]);h=M.map((function(t){var a=H.A().clamp(!0).domain([1.1*Math.min(0,H.u(e,(function(e){return e[t]}))),Math.max(1,1.1*H.t(e,(function(e){return e[t]})))]).nice().range([c,n]);return D?F:a}))}var T=j.map((function(t,a){return t.selectAll(".focus").data([e[i-1]],(function(e){return e.date})).join("circle").attr("class","focus").attr("fill",x[a]).attr("stroke",x[a]).attr("r",4)}));j.forEach((function(t,a){var n=t.transition().duration(500),r=k[a],l=M[a],o=w?r:l,s=x[a],d=h[a];if(t.select(".x-axis").transition(n).call(y),t.select(".x-axis2").transition(n).call(E,d),t.select(".y-axis").transition(n).call(N,d),t.selectAll(".dot").data(e,(function(e){return e.date})).join((function(e){return e.append("circle").attr("cy",c)})).attr("class","dot").attr("fill",s).attr("stroke",s).attr("r",2).transition(n).attr("cx",(function(e){return g(e.date)})).attr("cy",(function(e){return d(e[o])})),T[a].transition(n).attr("cx",(function(e){return g(e.date)})).attr("cy",(function(e){return d(e[o])})),w){t.selectAll(".stem").remove();var m=t.selectAll(".trend").data([Object(u.a)(e).reverse()]).join("path").attr("class","trend").attr("fill","none").attr("stroke",s+"99").attr("stroke-width",4);if(m.attr("d")){var p=m.node().getTotalLength(),f=m.node().getPointAtLength(p);m.attr("d",(function(){return m.attr("d")+"L".concat(f.x,",").concat(f.y).repeat(3*i)}))}m.transition(n).attr("opacity",w?1:0).attr("d",H.s().x((function(e){return g(e.date)})).y((function(e){return d(e[r])})).curve(H.f))}else t.selectAll(".trend").remove(),t.selectAll(".stem").data(e,(function(e){return e.date})).join((function(e){return e.append("line").attr("x1",(function(e){return g(e.date)})).attr("x2",(function(e){return g(e.date)})).attr("y1",c).attr("y2",c)})).attr("class","stem").style("stroke",s+"99").style("stroke-width",4).transition(n).attr("y1",d(0)).attr("x1",(function(e){return g(e.date)})).attr("x2",(function(e){return g(e.date)})).attr("y2",(function(e){return d(e[l])}));t.on("mousemove",U).on("touchmove",U).on("mouseout",L).on("touchend",L)}))}function U(){var t=H.v(this)[0],a=g.invert(t),n=(0,H.c((function(e){return e.date})).left)(e,a,1);if(0<=n&&n<i){a-e[n-1].date<e[n].date-a&&--n,b(e[n]),O(n),Y(!0);var r=e[n];T.forEach((function(e,t){var a=h[t],n=w?k[t]:M[t];e.attr("cx",g(r.date)).attr("cy",a(r[n]))}))}}function L(){b(e[i-1]),O(i-1),Y(!1),T.forEach((function(t,a){var n=h[a],r=w?k[a]:M[a];t.attr("cx",g(e[i-1].date)).attr("cy",n(e[i-1][r]))}))}}),[G,R,A,D]);Object(o.useEffect)((function(){p.length>1&&X(p)}),[p,X]);var $=N()(v.date),Q=$.isSame(N()().subtract(1,"days"),"day")?t("Yesterday"):$.format("DD MMMM"),ee=1===R?"totalconfirmed":"dailyconfirmed",te=1===R?"totalactive":"dailyactive",ae=1===R?"totalrecovered":"dailyrecovered",ne=1===R?"totaldeceased":"dailydeceased",re=function(e){if(p.length<=0||j<=0||j>=p.length)return"";var t=p[j][e]-p[j-1][e],a=M(t);return t>=0?"+".concat(a):a};return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"TimeSeries fadeInUp",style:{animationDelay:"2.7s"}},s.a.createElement("div",{className:"svg-parent",ref:J},s.a.createElement("div",{className:"stats"},s.a.createElement("h5",{className:"".concat(P?"":"title")},t("confirmed.full")),s.a.createElement("h5",{className:"".concat(P?"title":"")},"".concat(Q)),s.a.createElement("div",{className:"stats-bottom"},s.a.createElement("h2",null,M(v[ee])),s.a.createElement("h6",null,re(ee)))),s.a.createElement("svg",{ref:z,preserveAspectRatio:"xMidYMid meet"},s.a.createElement("g",{className:"x-axis"}),s.a.createElement("g",{className:"x-axis2"}),s.a.createElement("g",{className:"y-axis"}))),s.a.createElement("div",{className:"svg-parent is-blue"},s.a.createElement("div",{className:"stats is-blue"},s.a.createElement("h5",{className:"".concat(P?"":"title")},t("active.full")),s.a.createElement("h5",{className:"".concat(P?"title":"")},"".concat(Q)),s.a.createElement("div",{className:"stats-bottom"},s.a.createElement("h2",null,M(v[te])),s.a.createElement("h6",null,re(te)))),s.a.createElement("svg",{ref:V,preserveAspectRatio:"xMidYMid meet"},s.a.createElement("g",{className:"x-axis"}),s.a.createElement("g",{className:"x-axis2"}),s.a.createElement("g",{className:"y-axis"}))),s.a.createElement("div",{className:"svg-parent is-green"},s.a.createElement("div",{className:"stats is-green"},s.a.createElement("h5",{className:"".concat(P?"":"title")},t("recovered.full")),s.a.createElement("h5",{className:"".concat(P?"title":"")},"".concat(Q)),s.a.createElement("div",{className:"stats-bottom"},s.a.createElement("h2",null,M(v[ae])),s.a.createElement("h6",null,re(ae)))),s.a.createElement("svg",{ref:K,preserveAspectRatio:"xMidYMid meet"},s.a.createElement("g",{className:"x-axis"}),s.a.createElement("g",{className:"x-axis2"}),s.a.createElement("g",{className:"y-axis"}))),s.a.createElement("div",{className:"svg-parent is-gray"},s.a.createElement("div",{className:"stats is-gray"},s.a.createElement("h5",{className:"".concat(P?"":"title")},t("deceased.full")),s.a.createElement("h5",{className:"".concat(P?"title":"")},"".concat(Q)),s.a.createElement("div",{className:"stats-bottom"},s.a.createElement("h2",null,M(v[ne])),s.a.createElement("h6",null,re(ne)))),s.a.createElement("svg",{ref:q,preserveAspectRatio:"xMidYMid meet"},s.a.createElement("g",{className:"x-axis"}),s.a.createElement("g",{className:"x-axis2"}),s.a.createElement("g",{className:"y-axis"})))),s.a.createElement("div",{className:"pills"},s.a.createElement("button",{type:"button",onClick:function(){return i(1/0)},className:c===1/0?"selected":""},t("Beginning")),s.a.createElement("button",{type:"button",onClick:function(){return i(30)},className:30===c?"selected":"","aria-label":t("1 month")},t("1 Month")),s.a.createElement("button",{type:"button",onClick:function(){return i(14)},className:14===c?"selected":"","aria-label":t("14 days")},t("2 Weeks"))))})),de=a(485);var me=s.a.memo((function(e){var t=e.timeseries,a=e.activeStateCode,l=e.onHighlightState,c=e.states,i=e.anchor,o=e.setAnchor,d=Object(r.b)().t,m=Object(de.a)("timeseriesGraphOption",1),u=Object(n.a)(m,2),p=u[0],f=u[1],h=Object(de.a)("timeseriesMode",!0),g=Object(n.a)(h,2),v=g[0],b=g[1],y=Object(de.a)("timeseriesLogMode",!1),E=Object(n.a)(y,2),N=E[0],j=E[1];return s.a.createElement("div",{className:"TimeSeriesExplorer ".concat("timeseries"===i?"stickied":""),style:{display:"mapexplorer"===i?"none":""}},s.a.createElement("div",{className:"timeseries-header fadeInUp",style:{animationDelay:"2.5s"}},window.innerWidth>769&&s.a.createElement("div",{className:"anchor ".concat("timeseries"===i?"stickied":""),onClick:function(){o("timeseries"===i?null:"timeseries")}},s.a.createElement(G.a,null)),s.a.createElement("h1",null,d("Spread Trends")),s.a.createElement("div",{className:"tabs"},s.a.createElement("div",{className:"tab ".concat(1===p?"focused":""),onClick:function(){f(1)}},s.a.createElement("h4",null,d("Cumulative"))),s.a.createElement("div",{className:"tab ".concat(2===p?"focused":""),onClick:function(){f(2)}},s.a.createElement("h4",null,d("Daily")))),s.a.createElement("div",{className:"scale-modes"},s.a.createElement("label",{className:"main"},d("Scale Modes")),s.a.createElement("div",{className:"timeseries-mode"},s.a.createElement("label",{htmlFor:"timeseries-mode"},d("chart.mode.uniform")),s.a.createElement("input",{id:"timeseries-mode",type:"checkbox",checked:v,className:"switch","aria-label":"Checked by default to scale uniformly.",onChange:function(e){b(!v)}})),s.a.createElement("div",{className:"timeseries-logmode ".concat(1!==p?"disabled":"")},s.a.createElement("label",{htmlFor:"timeseries-logmode"},d("chart.mode.logarithmic")),s.a.createElement("input",{id:"timeseries-logmode",type:"checkbox",checked:1===p&&N,className:"switch",disabled:1!==p,onChange:function(e){j(!N)}}))),s.a.createElement("div",{className:"trends-state-name"},s.a.createElement("select",{value:a,onChange:function(e){var t=e.target.selectedOptions[0].getAttribute("statedata");l(JSON.parse(t))}},c.map((function(e){return s.a.createElement("option",{value:e.statecode,key:e.statecode,statedata:JSON.stringify(e)},"TT"===e.statecode?d("All States"):d("statenames.".concat(e.state.toLowerCase())))}))))),s.a.createElement(se,{timeseries:t[a],stateCode:a,type:p,mode:v,logMode:N}))})),ue=a(483),pe=new Date;var fe=function(e){var t=Object(o.useState)([]),a=Object(n.a)(t,2),r=a[0],l=a[1];return Object(_.a)((function(){T.a.get("https://thantthet.github.io/covid19-api/updatelog/log.json").then((function(e){l(e.data)})).catch((function(e){console.log(e)}))})),s.a.createElement("div",{className:"updates"},s.a.createElement("div",{className:"updates-header"},s.a.createElement("h2",null,Object(ue.a)(pe,"d MMM"))),r.slice(-5).reverse().map((function(e,t){e.update=e.update.replace("\n","<br/>");var a=new Date(1e3*e.timestamp);return s.a.createElement(s.a.Fragment,{key:t},a.getDate()!==pe.getDate()?(pe=a,s.a.createElement(s.a.Fragment,null,0===t?s.a.createElement("div",{className:"update"},s.a.createElement("h4",null,"No updates yet!")):"",s.a.createElement("div",{className:"updates-header"},s.a.createElement("h2",null,Object(ue.a)(a,"d MMM"))))):" ",s.a.createElement("div",{key:t,className:"update"},s.a.createElement("h5",null,Object(J.a)(new Date(1e3*e.timestamp),new Date)+" ago"),s.a.createElement("h4",{dangerouslySetInnerHTML:{__html:e.update}})))})))},he=a(469),ge=a(470),ve=a(468);var be=s.a.memo((function(e){var t=Object(o.useState)([]),a=Object(n.a)(t,2),r=a[0],l=a[1],d=Object(o.useState)({}),m=Object(n.a)(d,2),u=m[0],p=m[1],f=Object(o.useState)(""),g=Object(n.a)(f,2),v=g[0],b=g[1],y=Object(o.useState)({}),E=Object(n.a)(y,2),N=E[0],j=E[1],M=Object(o.useState)(!1),x=Object(n.a)(M,2),C=x[0],S=x[1],A=Object(o.useState)("TT"),I=Object(n.a)(A,2),F=I[0],R=I[1],U=Object(o.useState)(void 0),L=Object(n.a)(U,2),P=L[0],H=L[1],Y=Object(o.useState)(!1),z=Object(n.a)(Y,2),V=z[0],K=z[1],q=Object(o.useState)(null),J=Object(n.a)(q,2),G=J[0],Z=J[1],X=Object(de.a)("lastViewedLog",null),$=Object(n.a)(X,2),te=$[0],ae=$[1],ne=Object(de.a)("newUpdate",!1),re=Object(n.a)(ne,2),le=re[0],ce=re[1];Object(ve.a)(le?"/icon_update.png":"/favicon.ico"),Object(_.a)((function(){oe()})),Object(_.a)((function(){T.a.get("https://thantthet.github.io/covid19-api/log.json").then((function(e){var t=e.data.slice().reverse()[0].timestamp.toString();t!==te&&(ce(!0),ae(t))})).catch((function(e){console.log(e)}))}));var oe=function(){var e=Object(i.a)(c.a.mark((function e(){var t,a,r,i,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([T.a.get("https://thantthet.github.io/covid19-api/data.json"),T.a.get("https://thantthet.github.io/covid19-api/state_district_wise.json"),T.a.get("https://thantthet.github.io/covid19-api/states_daily.json")]);case 3:t=e.sent,a=Object(n.a)(t,3),r=a[0].data,i=a[1],o=a[2].data,l(r.statewise),(s=D(o)).TT=k(r.cases_time_series),j(s),b(r.statewise[0].lastupdatedtime),p(i.data),S(!0),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),se=function(e,t){if(!e&&!t)return H(null);H({state:e,index:t})},ue=Object(o.useCallback)((function(e){var t=e.statecode;R(t)}),[]);return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"Home"},s.a.createElement("div",{className:"home-left"},s.a.createElement("div",{className:"header fadeInUp",style:{animationDelay:"1s"}},s.a.createElement("div",{className:"actions"},s.a.createElement("h5",null,isNaN(Date.parse(O(v)))?"":w(v)),!V&&s.a.createElement("div",{className:"bell-icon"},C&&s.a.createElement(he.a,{onClick:function(){K(!V),ce(!1)}}),le&&s.a.createElement("div",{className:"indicator"})),V&&s.a.createElement(ge.a,{onClick:function(){K(!V)}}))),V&&s.a.createElement(fe,null),C&&s.a.createElement(B,{data:r[0]}),C&&s.a.createElement(ee,{timeseries:N.TT}),C&&s.a.createElement(ie,{states:r,summary:!1,stateDistrictWiseData:u,onHighlightState:se,onHighlightDistrict:function(e,t,a){if(!t&&!a&&!e)return H(null);H({district:e,state:t,index:a})}})),s.a.createElement("div",{className:"home-right"},C&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Q,{mapMeta:h.Myanmar,states:r,stateDistrictWiseData:u,regionHighlighted:P,onMapHighlightChange:ue,isCountryLoaded:!0,anchor:G,setAnchor:Z}),C&&s.a.createElement(me,{timeseries:N,activeStateCode:F,onHighlightState:se,states:r,anchor:G,setAnchor:Z})))),C&&s.a.createElement(W,null))})),ye=a(106),Ee=a(472),Ne=a(473),je=a(474),Oe=a(475),we=a(476),ke=a(471),Me=a(223);function De(){var e=Object(r.b)(),t=e.i18n,a=e.t;return s.a.createElement("div",{className:"select-dropdown"},s.a.createElement("select",{onChange:function(e){t.changeLanguage(e.target.value)},"aria-label":a("Select Language"),value:t.language},Object.entries(Me).map((function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1];return s.a.createElement("option",{key:a,value:a},r)}))))}function xe(e){e.expand;var t=e.pages,a=e.setExpand,n=Object(o.useRef)(null);return Object(_.a)((function(){Object(ye.a)({targets:n.current,translateX:"10rem",easing:"easeOutExpo",duration:250})})),s.a.createElement("div",{className:"expand",ref:n,onMouseLeave:function(){a(!1)}},t.map((function(e,t){return!0===e.showInNavbar?s.a.createElement(X.b,{to:e.pageLink,key:t,onClick:function(){a(!1)}},s.a.createElement("span",(n=e.pageLink,r=e.animationDelayForNavbar,{className:"fadeInUp ".concat(window.location.pathname===n?"focused":""),style:{animationDelay:"".concat(r,"s")}}),e.displayName)):null;var n,r})),s.a.createElement("div",{className:"expand-bottom fadeInUp",style:{animationDelay:"1s"}},s.a.createElement("h5",null,"A crowdsourced initiative.")))}var Ce=function(e){var t=e.pages,a=e.darkMode,r=e.setDarkMode,l=Object(o.useState)(!1),c=Object(n.a)(l,2),i=c[0],d=c[1];return Object(ke.a)(i),s.a.createElement("div",{className:"Navbar"},s.a.createElement("div",{className:"navbar-language"},s.a.createElement(De,null)),s.a.createElement("div",{className:"navbar-left",onClick:function(){return r((function(e){return!e}))}},a?s.a.createElement(Ee.a,{color:"#ffc107"}):s.a.createElement(Ne.a,null)),s.a.createElement("div",{className:"navbar-middle"},s.a.createElement(X.b,{to:"/"},"Covid19",s.a.createElement("span",null,"Myanmar"))),s.a.createElement("div",{className:"navbar-right",onClick:function(){d(!i)},onMouseEnter:function(){window.innerWidth>769&&(d(!0),Object(ye.a)({targets:".navbar-right path",strokeDashoffset:[ye.a.setDashoffset,0],easing:"easeInOutSine",duration:250,delay:function(e,t){return 250*t},direction:"alternate",loop:!1}))}},window.innerWidth<769&&s.a.createElement("span",null,i?"Close":"Menu"),window.innerWidth>769&&s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,s.a.createElement(je.a,null)),s.a.createElement("span",null,s.a.createElement(Oe.a,null)),s.a.createElement("span",null,s.a.createElement(we.a,null)))),i&&s.a.createElement(xe,{expand:i,pages:t,setExpand:d}))},Se=a(477);var Ae=s.a.memo((function(e){return s.a.createElement("div",{className:"DownloadBlock fadeInUp",style:{animationDelay:"0.5s"}},s.a.createElement("a",{className:"button",target:"_noblank",href:"https://raw.githubusercontent.com/covid19india/api/gh-pages/raw_data.json"},s.a.createElement(Se.a,null)," ",s.a.createElement("span",null,"JSON")),s.a.createElement("a",{className:"button",target:"_noblank",href:"https://raw.githubusercontent.com/covid19india/api/gh-pages/csv/latest/raw_data.csv"},s.a.createElement(Se.a,null)," ",s.a.createElement("span",null,"CSV")))}),(function(){return!0}));var Ie=function(e){var t=e.logs,a=e.summary,n=e.setModal,r=e.setPatient,l=e.expand,c=e.applyClass;return s.a.createElement("div",{className:"Patients fadeInUp",style:{animationDelay:"1s"}},Object.keys(t).slice(a?-1:0).map((function(e,i){return"Invalid Date"!==e?s.a.createElement(s.a.Fragment,{key:i},s.a.createElement("h5",{className:"daylabel"},Object(ue.a)(new Date(e),"dd MMM, yyyy")," ","("+t[e].length+")"),s.a.createElement("div",{key:i,className:"day ".concat(a?"summary":"")},t[e].slice(a?-40:0).map((function(e,t){return s.a.createElement("div",{key:t,className:c(e),onClick:function(){n(!0),r(e)}},s.a.createElement("h3",null,l?"P".concat(e.patientnumber):""))})))):null})))},Fe=a(484),Te=a(478);var Re=function(e){var t=Object(r.b)().t,a=Object(o.useState)(e.patients),l=Object(n.a)(a,2),c=l[0],i=l[1],d=Object(o.useState)(e.patients.slice(-1)),m=Object(n.a)(d,2),u=m[0],p=m[1],f=Object(o.useState)({}),h=Object(n.a)(f,2),g=h[0],v=h[1],b=Object(o.useState)(!1),y=Object(n.a)(b,2),E=y[0],N=y[1];Object(ke.a)(E),window.onclick=function(e){var t=document.getElementById("modal");e.target===t&&N(!1)},Object(o.useEffect)((function(){i(e.patients)}),[e.patients]);var j=Object(o.useCallback)((function(e){for(var t={},a=0;a<e.length;a++){var n=new Date(Object(Fe.a)(e[a].dateannounced,"dd/MM/yyyy",new Date));if(n in t){var r=t[n];r.push(e[a]),t[n]=r}else{var l=[];l.push(e[a]),t[n]=l}}v(t)}),[]);return Object(o.useEffect)((function(){c.length&&j(c)}),[j,c]),s.a.createElement(s.a.Fragment,null,s.a.createElement(Ie,{logs:g,setModal:N,setPatient:p,expand:e.expand,applyClass:function(t){switch(t){case"genders":return function(t){return"patient-card ".concat("F"===t.gender?"is-femme":"M"===t.gender?"is-male":""," ").concat(e.expand?"":"is-small")};case"transmission":return function(t){return"patient-card ".concat("Local"===t.typeoftransmission?"is-local":"Imported"===t.typeoftransmission?"is-imported":""," ").concat(e.expand?"":"is-small")};case"nationality":return function(t){return"patient-card ".concat("myanmar"===t.nationality?"is-mm":"french"===t.nationality?"is-fr":"swiz"===t.nationality?"is-ch":"american"===t.nationality?"is-us":""," ").concat(e.expand?"":"is-small")};case"age":default:return function(t){return"patient-card ".concat(e.expand?"":"is-small")}}}(e.colorMode)}),E&&s.a.createElement("div",{className:"modal",id:"modal"},s.a.createElement("div",{className:"modal-content ".concat(E?"fadeInUp":"fadeOutDown")},s.a.createElement("div",{className:"close-button"},s.a.createElement(Te.a,{onClick:function(){N(!1)}})),s.a.createElement("div",{className:"modal-top"},s.a.createElement("h1",null,"#",u.patientnumber)),s.a.createElement("div",{className:"meta"},s.a.createElement("h5",null,t("Date Announced")),s.a.createElement("h3",null,u.dateannounced?u.dateannounced:"?"),s.a.createElement("h5",null,t("Contracted from")),s.a.createElement("h3",{className:"contracted-from"},u.contractedfromwhichpatientsuspected?u.contractedfromwhichpatientsuspected.split(",").map((function(e,t){return s.a.createElement("span",{key:t,onClick:function(){return function(e){if(""!==e)try{c.map((function(t,a){+t.patientnumber===+e&&p(t)}))}catch(t){console.log(t)}}(e)}},e,",")})):"?"),s.a.createElement("h5",null,t("Detected City")),s.a.createElement("h3",null,u.detectedcity?u.detectedcity:"?"),s.a.createElement("h5",null,t("Detected District")),s.a.createElement("h3",null,u.detecteddistrict?u.detecteddistrict:"?"),s.a.createElement("h5",null,t("Detected State")),s.a.createElement("h3",null,u.detectedstate?u.detectedstate:"?"),s.a.createElement("h5",null,t("Nationality")),s.a.createElement("h3",null,u.nationality?u.nationality:"?"),s.a.createElement("h5",null,t("Age")),s.a.createElement("h3",null,u.agebracket?u.agebracket:"?"),s.a.createElement("h5",null,t("Gender")),s.a.createElement("h3",null,u.gender?u.gender:"?"),s.a.createElement("h5",null,t("Type of transmission")),s.a.createElement("h3",null,u.typeoftransmission?u.typeoftransmission:"?")),s.a.createElement("div",{className:"notes"},s.a.createElement("h5",null,t("Notes")),s.a.createElement("h3",null,u.notes)),s.a.createElement("h5",null,t("Source 1")),s.a.createElement("div",{className:"link"},s.a.createElement("a",{href:u.source1,target:"_noblank"},u.source1)),s.a.createElement("h5",null,t("Source 2")),s.a.createElement("div",{className:"link"},s.a.createElement("a",{href:u.source2,target:"_noblank"},u.source2)),s.a.createElement("h5",null,t("Source 3")),s.a.createElement("div",{className:"link"},s.a.createElement("a",{href:u.source3,target:"_noblank"},u.source3)))))},Ue=a(486),Le=a(224),We=a.n(Le),_e=a(479),Be=a(43);function Pe(e,t){var a=Object.keys(t);return e.filter((function(e){return a.every((function(a){return!t[a].length||e[a]===t[a]}))}))}var He=function(e){var t=Object(r.b)().t,a=Object(o.useState)(!1),l=Object(n.a)(a,2),c=l[0],i=l[1],d=Object(o.useState)([]),m=Object(n.a)(d,2),u=m[0],p=m[1],f=Object(o.useState)([]),h=Object(n.a)(f,2),g=h[0],v=h[1],b=Object(Be.g)().pathname,y=Object(o.useState)("genders"),E=Object(n.a)(y,2),N=E[0],j=E[1],O=Object(o.useState)(!0),w=Object(n.a)(O,2),k=w[0],M=w[1],D=Object(o.useState)(null),x=Object(n.a)(D,2),C=x[0],S=x[1],A=Object(de.a)("showReminder",!0),I=Object(n.a)(A,2),F=I[0],R=I[1],U=Object(o.useState)({detectedstate:"",detecteddistrict:"",detectedcity:"",dateannounced:""}),L=Object(n.a)(U,2),B=L[0],H=L[1];Object(o.useEffect)((function(){window.scrollTo(0,0)}),[b]),Object(_.a)((function(){try{T.a.get("https://thantthet.github.io/covid19-api/raw_data.json").then((function(e){p(e.data.raw_data.reverse()),i(!0)}))}catch(e){console.log(e)}})),Object(o.useEffect)((function(){document.querySelectorAll(".react-date-picker__inputGroup input").forEach((function(e){return e.setAttribute("readOnly",!0)}))}),[]);var Y=function(e,t){H((function(a){var n=Object(P.a)({},a);if(n[e]=t,"detectedstate"===e){var r=document.getElementById("district"),l=document.getElementById("city");r.style.display=""===t?"none":"inline",l.style.display="none",r.selectedIndex=0,l.selectedIndex=0,n.detecteddistrict="",n.detectedcity=""}else if("detecteddistrict"===e){var c=document.getElementById("city");c.style.display=""===t?"none":"inline",c.selectedIndex=0,n.detectedcity=""}return n}))};function z(e,t){var a=new Set(e.map((function(e){return e[t]})));return a.size>1&&a.add(""),"dateannounced"===t?Array.from(a):Array.from(a).sort()}return Object(o.useEffect)((function(){v(Pe(u,B))}),[u,B]),s.a.createElement("div",{className:"PatientsDB"},s.a.createElement("div",{className:"filters fadeInUp",style:{animationDelay:"0.2s"}},s.a.createElement("div",{className:"filters-left"},s.a.createElement("div",{className:"select"},s.a.createElement("select",{style:{animationDelay:"0.3s"},id:"state",onChange:function(e){Y("detectedstate",e.target.value)},defaultValue:B.detectedstate},s.a.createElement("option",{value:"",disabled:!0,selected:!0},t("Select State")),z(u,"detectedstate").map((function(e,a){return s.a.createElement("option",{key:a,value:e},t(""===e?"All":"statenames.".concat(e.toLowerCase())))})))),s.a.createElement("div",{className:"select"},s.a.createElement("select",{style:{animationDelay:"0.4s",display:"none"},id:"district",onChange:function(e){Y("detecteddistrict",e.target.value)},defaultValue:B.detecteddistrict},s.a.createElement("option",{value:"",disabled:!0},"Select District"),z(Pe(u,{detectedstate:B.detectedstate}),"detecteddistrict").map((function(e,a){return s.a.createElement("option",{key:a,value:e},""===e?t("All"):e)})))),s.a.createElement("div",{className:"select"},s.a.createElement("select",{style:{animationDelay:"0.4s",display:"none"},id:"city",onChange:function(e){Y("detectedcity",e.target.value)},defaultValue:B.detectedcity},s.a.createElement("option",{value:"",disabled:!0},"Select City"),z(Pe(u,{detectedstate:B.detectedstate,detecteddistrict:B.detecteddistrict}),"detectedcity").map((function(e,a){return s.a.createElement("option",{key:a,value:e},""===e?t("All"):e)})))),s.a.createElement("div",{className:"select"},s.a.createElement("select",{style:{animationDelay:"0.4s",display:"none"},id:"city",onChange:function(e){Y("detectedcity",e.target.value)},defaultValue:B.detectedcity},s.a.createElement("option",{value:"",disabled:!0},"Select City"),z(Pe(u,{detectedstate:B.detectedstate,detecteddistrict:B.detecteddistrict}),"detectedcity").map((function(e,t){return s.a.createElement("option",{key:t,value:e},""===e?"All":e)})))),s.a.createElement("div",{className:"select"},s.a.createElement(We.a,{value:C,minDate:new Date("22-Mar-2020"),maxDate:Object(Ue.a)(new Date,1),format:"dd/MM/y",calendarIcon:s.a.createElement(_e.a,null),inputProps:onkeydown=function(e){e.preventDefault()},clearIcon:s.a.createElement(Te.a,{size:16}),className:"calendar-close",onChange:function(e){S(e);var t=e?Object(ue.a)(e,"dd/MM/yyyy"):"";Y("dateannounced",t)}}))),s.a.createElement("div",{className:"legend"},"genders"===N&&s.a.createElement("div",{className:"legend-left"},s.a.createElement("div",{className:"circle is-female"}),s.a.createElement("h5",{className:"is-female"},t("Female")),s.a.createElement("div",{className:"circle is-male"}),s.a.createElement("h5",{className:"is-male"},t("Male")),s.a.createElement("div",{className:"circle"}),s.a.createElement("h5",{className:""},t("Unknown"))),"transmission"===N&&s.a.createElement("div",{className:"legend-left"},s.a.createElement("div",{className:"circle is-local"}),s.a.createElement("h5",{className:"is-local"},t("Local")),s.a.createElement("div",{className:"circle is-imported"}),s.a.createElement("h5",{className:"is-imported"},t("Imported")),s.a.createElement("div",{className:"circle"}),s.a.createElement("h5",{className:""},t("Unknown"))),"nationality"===N&&s.a.createElement("div",{className:"legend-left nationality"},s.a.createElement("div",{className:"circle is-mm"}),s.a.createElement("h5",{className:"is-mm"},"Mm"),s.a.createElement("div",{className:"circle is-fr"}),s.a.createElement("h5",{className:"is-us"},"Fr"),s.a.createElement("div",{className:"circle is-ch"}),s.a.createElement("h5",{className:"is-us"},"Ch"),s.a.createElement("div",{className:"circle is-us"}),s.a.createElement("h5",{className:"is-us"},"Us")),s.a.createElement("div",{className:"select ".concat(N)},s.a.createElement("select",{style:{animationDelay:"0.4s"},onChange:function(e){j(e.target.value)},defaultValue:N},s.a.createElement("option",{value:"genders"},t("Genders")),s.a.createElement("option",{value:"transmission"},t("Transmission")),s.a.createElement("option",{value:"nationality"},t("Nationality")))))),s.a.createElement("div",{className:"header fadeInUp",style:{animationDelay:"0.3s"}},s.a.createElement("div",null,s.a.createElement("h1",null,t("demographics.title")),s.a.createElement("div",{className:"deep-dive"},s.a.createElement("h5",null,"Expand"),s.a.createElement("input",{type:"checkbox",checked:k,onChange:function(e){M(!k)},className:"switch"}))),s.a.createElement("h6",{className:"disclaimer"},t("demographics.disclaimer"))),s.a.createElement("div",{className:"reminder fadeInUp",style:{animationDelay:"1s",display:F?"":"none"}},s.a.createElement(Te.a,{onClick:function(){R(!1)}}),s.a.createElement("p",null,t("demographics.reminder.line1"),s.a.createElement("br",null),s.a.createElement("br",null),t("demographics.reminder.line2"))),c&&s.a.createElement("div",{className:"patientdb-wrapper"},s.a.createElement(Re,{patients:g,colorMode:N,expand:k})),s.a.createElement(Ae,{patients:u}),s.a.createElement(W,null))},Ye=a(50),ze=a.n(Ye),Ve=a(230);var Ke=s.a.memo((function(e){var t=e.stateCode,a=Object(o.useState)(!1),r=Object(n.a)(a,2),l=r[0],d=r[1],m=Object(o.useState)([]),u=Object(n.a)(m,2),p=u[0],f=u[1],h=Object(o.useState)([]),g=Object(n.a)(h,2),v=g[0],b=g[1];Object(o.useEffect)((function(){function e(){return(e=Object(i.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("https://thantthet.github.io/covid19-api/raw_data.json");case 3:a=e.sent,f(a.data.raw_data.filter((function(e){return e.statecode===t}))),d(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}l||function(){e.apply(this,arguments)}()}),[l,t]),Object(o.useEffect)((function(){b(function(e){var t=e.reduce((function(e,t){return e+t.contractedfromwhichpatientsuspected+", "}),"");t=t.replace(/\s+/g,"");var a=new Set(t.match(/[^,]+/g)),n=[],r=new Set,l=[];return e.forEach((function(e){var t=e.contractedfromwhichpatientsuspected.replace(/\s+/g,"").match(/[^,]+/g);if(t){var c="P"+e.patientnumber;r.add(c),n.push({id:c,group:a.has(e.patientnumber)?"source":"target",raw:e}),t.forEach((function(e){l.push({source:"P"+e,target:c})}))}})),l.forEach((function(e){r.has(e.source)||(n.push({id:e.source,group:"source",raw:e.source}),r.add(e.source))})),{nodes:n,links:l}}(p))}),[p]);var y=function(){var e=Object(o.useRef)();Object(o.useEffect)((function(){var t=e.current,a=document.getElementById("clusters").offsetWidth,n=a;t.d3Force("charge").strength(-60),t.d3Force("collision",H.i()),t.d3Force("x",H.j().strength(.3)),t.d3Force("y",H.k().strength(.3)),t.d3Force("box",(function(){for(var e=0,t=v.nodes.length;e<t;++e){var r=v.nodes[e];r.x=Math.max(-a,Math.min(a,r.x)),r.y=Math.max(-n,Math.min(n,r.y))}}))}),[]);var t=document.getElementById("clusters").offsetWidth,a=t;return s.a.createElement(Ve.a,{ref:e,width:t,height:a,graphData:v,nodeLabel:"id",nodeColor:function(e){return"source"===e.group?"#dc3545":"gray"},linkDirectionalParticleColor:function(){return"red"},linkDirectionalParticles:1,linkDirectionalParticleWidth:function(e){return"P"===e.source.id[0]?2:0},enableZoomPanInteraction:!1})};return Object(o.useEffect)((function(){ze.a.render(s.a.createElement(y,null),document.getElementById("clusters"))}),[v]),s.a.createElement("div",{id:"clusters"})}),(function(){return!0}));var qe=s.a.memo((function(e){var t=e.timeseries,a=e.arrayKey,r=Object(o.useState)([]),l=Object(n.a)(r,2),c=l[0],i=l[1],d=Object(o.useRef)();return Object(o.useEffect)((function(){i(t)}),[t]),Object(o.useEffect)((function(){if(c.length){var e=H.E(d.current),t=50,n=0,r=+e.attr("width")-0,l=+e.attr("height")-50,i=H.G("%e %b"),o=H.z().domain(c.map((function(e){return i(e.date)}))).range([n,r]).paddingInner(.33),s=H.A().domain([0,Math.max(1,H.t(c,(function(e){return e[a]})))]).range([l,t]),m=H.a(o).tickSize(0);e.select(".x-axis").style("transform","translateY(".concat(l,"px)")).call(m).call((function(e){return e.select(".domain").remove()})).selectAll("text").attr("y",0).attr("x",-40).attr("dy",".35em").attr("transform","rotate(-90)").style("text-anchor","start"),e.selectAll(".bar").data(c).join("path").attr("class","bar").attr("d",(function(e){return function(e,t,a,n,r,l){if(!n)return;void 0===l&&(l=1);var c=t-n+r;return["M",e,t,"L",e,c,"A",r,r,0,0,l,e+r,t-n,"L",e+a-r,t-n,"A",r,r,0,0,l,e+a,c,"L",e+a,t,"Z"].join(" ")}(o(i(e.date)),l,o.bandwidth(),l-s(e[a]),5)})).attr("fill",(function(e,t){return t<c.length-1?"#dc354590":"#dc3545"})),e.selectAll(".delta").data(c).join("text").attr("class","delta").attr("text-anchor","middle").attr("font-size","11px").attr("x",(function(e){return o(i(e.date))+o.bandwidth()/2})).attr("y",(function(e){return s(e[a])-6})).text((function(e){return e[a]})).append("tspan").attr("class","percent").attr("x",(function(e){return o(i(e.date))+o.bandwidth()/2})).attr("dy","-1.2em").text((function(e,t){return t&&c[t-1][a]?H.l("+.1%")((c[t][a]-c[t-1][a])/c[t-1][a]):""}))}}),[c,a]),s.a.createElement("div",{className:"DeltaBarGraph fadeInUp",style:{animationDelay:"0.8s"}},s.a.createElement("svg",{ref:d,width:"250",height:"250",viewBox:"0 0 250 250",preserveAspectRatio:"xMidYMid meet"},s.a.createElement("g",{className:"x-axis"}),s.a.createElement("g",{className:"y-axis"})))}));var Je=a(480);var Ge=s.a.memo((function(e){var t,a,l=Object(r.b)().t,d=Object(o.useRef)(),m=Object(o.useRef)(),u=Object(Be.h)().stateCode,p=Object(o.useState)(!1),f=Object(n.a)(p,2),v=f[0],b=f[1],y=Object(o.useState)({}),E=Object(n.a)(y,2),N=E[0],j=E[1],O=Object(o.useState)(1),k=Object(n.a)(O,2),M=k[0],x=k[1],C=Object(o.useState)(!0),S=Object(n.a)(C,2),A=S[0],I=S[1],F=Object(o.useState)(!1),R=Object(n.a)(F,2),U=R[0],L=R[1],_=Object(o.useState)({}),P=Object(n.a)(_,2),H=P[0],Y=P[1],z=Object(o.useState)({}),V=Object(n.a)(z,2),K=V[0],q=V[1],J=Object(o.useState)(g[u]),G=Object(n.a)(J,1)[0];Object(o.useEffect)((function(){!1===v&&Z(u)}),[v,u]);var Z=function(){var e=Object(i.a)(c.a.mark((function e(t){var a,r,l,i,o,s,d,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([T.a.get("https://thantthet.github.io/covid19-api/data.json"),T.a.get("https://thantthet.github.io/covid19-api/state_district_wise.json"),T.a.get("https://thantthet.github.io/covid19-api/states_daily.json")]);case 3:a=e.sent,r=Object(n.a)(a,3),l=r[0].data,i=r[1].data,o=r[2].data,s=l.statewise,Y(s.find((function(e){return e.statecode===t}))),d=D(o)[t],j(d),m=g[t],q(Object(te.a)({},m,i[m])),b(!0),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"State"},s.a.createElement("div",{className:"state-left"},s.a.createElement("div",{className:"breadcrumb fadeInUp"},s.a.createElement(X.b,{to:"/"},"Home"),"/",s.a.createElement(X.b,{to:"".concat(u)},G)),s.a.createElement("div",{className:"header"},s.a.createElement("div",{className:"header-left fadeInUp",style:{animationDelay:"0.3s"}},s.a.createElement("h1",null,l("statenames.".concat(G.toLowerCase()))),s.a.createElement("h5",null,l("statepage.lastUpdatedOn",{time:Object.keys(H).length?w(H.lastupdatedtime):""}))),"\x1b"),v&&s.a.createElement(B,{data:H}),v&&s.a.createElement(ee,{timeseries:N}),v&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Q,{forwardRef:d,mapMeta:h[G],states:[H],stateDistrictWiseData:K,isCountryLoaded:!1})),v&&s.a.createElement("div",{className:"meta-secondary"},s.a.createElement("div",{className:"unknown"},s.a.createElement(Je.a,null),s.a.createElement("div",{className:"unknown-right"},"Awaiting district details for"," ",(null===(t=K[G])||void 0===t||null===(a=t.districtData.Unknown)||void 0===a?void 0:a.confirmed)||"0"," ","cases")))),s.a.createElement("div",{className:"state-right"},v&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"district-bar"},s.a.createElement("div",{className:"district-bar-left fadeInUp",style:{animationDelay:"0.6s"}},s.a.createElement("h2",null,l("statepage.topDistrict")),s.a.createElement("div",{className:"districts"},K[G]?Object.keys(K[G].districtData).filter((function(e){return"Unknown"!==e})).sort((function(e,t){return K[G].districtData[t].confirmed-K[G].districtData[e].confirmed})).slice(0,6).map((function(e,t){return s.a.createElement("div",{key:t,className:"district"},s.a.createElement("h2",null,K[G].districtData[e].confirmed),s.a.createElement("h5",null,e),s.a.createElement("div",{className:"delta"},s.a.createElement(re.a,null),s.a.createElement("h6",null,K[G].districtData[e].delta.confirmed)))})):"")),s.a.createElement("div",{className:"district-bar-right"},s.a.createElement(qe,{timeseries:N.slice(-5),arrayKey:"dailyconfirmed"}))),s.a.createElement("div",{className:"timeseries-header fadeInUp",style:{animationDelay:"2.5s"},ref:m},s.a.createElement("div",{className:"tabs"},s.a.createElement("div",{className:"tab ".concat(1===M?"focused":""),onClick:function(){x(1)}},s.a.createElement("h4",null,l("Cumulative"))),s.a.createElement("div",{className:"tab ".concat(2===M?"focused":""),onClick:function(){x(2)}},s.a.createElement("h4",null,l("Daily")))),s.a.createElement("div",{className:"scale-modes"},s.a.createElement("label",{className:"main"},l("Scale Modes")),s.a.createElement("div",{className:"timeseries-mode"},s.a.createElement("label",{htmlFor:"timeseries-mode"},l("chart.mode.uniform")),s.a.createElement("input",{type:"checkbox",checked:A,className:"switch","aria-label":"Checked by default to scale uniformly.",onChange:function(e){I(!A)}})),s.a.createElement("div",{className:"timeseries-logmode ".concat(1!==M?"disabled":"")},s.a.createElement("label",{htmlFor:"timeseries-logmode"},l("chart.mode.logarithmic")),s.a.createElement("input",{type:"checkbox",checked:1===M&&U,className:"switch",disabled:1!==M,onChange:function(e){L(!U)}})))),s.a.createElement(se,{timeseries:N,type:M,mode:A,logMode:U}))),s.a.createElement("div",{className:"state-left"},s.a.createElement("div",{className:"Clusters fadeInUp",style:{animationDelay:"0.8s"}},s.a.createElement("h1",null,l("Network of transmission")),s.a.createElement(Ke,{stateCode:u}))),s.a.createElement("div",{className:"state-right"})),s.a.createElement(W,null))}));var Ze=function(){var e=Object(r.b)().t,t=[{pageLink:"/",view:be,displayName:e("menu.home"),animationDelayForNavbar:.2,showInNavbar:!0},{pageLink:"/demographics",view:He,displayName:e("menu.demographics"),animationDelayForNavbar:.3,showInNavbar:!0},{pageLink:"/deepdive",view:R,displayName:e("menu.deepdrive"),animationDelayForNavbar:.4,showInNavbar:!0},{pageLink:"/state/:stateCode",view:Ge,displayName:e("menu.state"),animationDelayForNavbar:.7,showInNavbar:!1}],a=Object(de.a)("darkMode",!1),l=Object(n.a)(a,2),c=l[0],i=l[1];return s.a.useEffect((function(){c?document.querySelector("body").classList.add("dark-mode"):document.querySelector("body").classList.remove("dark-mode")}),[c]),s.a.createElement("div",{className:"App ".concat(c?"dark-mode":"")},s.a.createElement(X.a,null,s.a.createElement(Be.b,{render:function(e){var a=e.location;return s.a.createElement("div",{className:"Almighty-Router"},s.a.createElement(Ce,{pages:t,darkMode:c,setDarkMode:i}),s.a.createElement(Be.d,{location:a},t.map((function(e,t){return s.a.createElement(Be.b,{exact:!0,path:e.pageLink,component:e.view,key:t})})),s.a.createElement(Be.a,{to:"/"})))}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Xe=a(232),$e={name:"default",lookup:function(e){if(!localStorage.getItem("i18nextLng"))return"my-MM"}},Qe=new(a(229).a);Qe.addDetector($e),y.a.use(Xe.a).use(Qe).init({debug:!1,fallbackLng:"en",backend:{loadPath:"/locales/{{lng}}.json"},detection:{order:["default","querystring","cookie","localStorage","navigator","htmlTag","path","subdomain"]},interpolation:{escapeValue:!1,format:function(e,t,a){return e instanceof Date?N()(e).local(a).format(t):"numeric"===t?Number(e).toLocaleString(a):e}}});var et=y.a;ze.a.render(s.a.createElement(o.Suspense,{fallback:""},s.a.createElement(r.a,{i18n:et},s.a.createElement(Ze,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[302,1,2]]]);
//# sourceMappingURL=main.d91aa643.chunk.js.map