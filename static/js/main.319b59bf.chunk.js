(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[0],{238:function(e){e.exports=JSON.parse('{"en":"English","my-MM":"\u1017\u1019\u102c","shn-MM":"\u1010\u1086\u1038"}')},326:function(e,t,a){e.exports=a(481)},338:function(e,t,a){},481:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a(8),r=(a(338),a(18)),l=a.n(r),i=a(34),s=a(11),o=a.n(s),d=a(10),m=a(49);d.d.global=o()(d.d.global,{defaultFontFamily:"Archia",elements:{line:{fill:!1},point:{pointStyle:"rectRounded"}},tooltips:{intersect:!1,mode:"nearest",position:"average",displayColors:!1,borderWidth:0,titleSpacing:4,titleMarginBottom:8,bodySpacing:5,cornerRadius:3,xPadding:6,yPadding:6,caretSize:0},legend:{display:!0,position:"bottom",labels:{padding:15,usePointStyle:!0}},hover:{intersect:!1},layout:{padding:{left:0,right:0,top:0,bottom:20}}});var u=function(e){return"Intl"in window?new Intl.NumberFormat(m.a.language).format(e):e},f={responsive:!0,events:["click","mousemove","mouseout","touchstart","touchmove","touchend"],maintainAspectRatio:!1,tooltips:{backgroundColor:"rgba(20,20,20,0.9)",titleFontColor:"rgba(255,255,255, 0.9)",bodyFontColor:"rgba(255,255,255, 0.9)",caretSize:0,borderWidth:0,mode:"index",callbacks:{label:function(e,t){var a=t.datasets[e.datasetIndex].label||"";return a&&(a+=": "),a+=u(Math.round(100*e.yLabel)/100),a}}},elements:{point:{radius:0},line:{tension:.1}}},p={type:"linear",ticks:{beginAtZero:!0,max:void 0,precision:0,callback:function(e){return u(e)}},gridLines:{color:"rgba(0, 0, 0, 0.07)",drawBorder:!1,tickMarkLength:6}},h={gridLines:{color:"rgba(0, 0, 0, 0)"}},v=a(0),g=a.n(v);var b=function(e){var t=Object(c.b)().t,a=Array(10).fill(0);if(!e.data||0===e.data.length)return g.a.createElement("div",null);e.data.forEach((function(e){if(e.agebracket)for(var t=parseInt(e.agebracket),n=0;n<10;n++)t>10*n&&t<=10*(n+1)&&a[n]++}));var n={labels:["0-10","11-20","21-30","31-40","41-50","51-60","61-70","71-80","81-90","91-100"],datasets:[{data:a,label:"Cases",backgroundColor:"#bc79c9"}]},r=o()(f,{legend:{display:!1},scales:{xAxes:[o()(h,{stacked:!0})],yAxes:[{stacked:!0}]},events:["mousemove","mouseout","touchstart","touchmove","touchend"],responsive:!0,maintainAspectRatio:!1,tooltips:{mode:"index"}}),l=a.reduce((function(e,t){return e+t}),0);return g.a.createElement("div",{className:"charts-header"},g.a.createElement("div",{className:"chart-title"},e.title),g.a.createElement("div",{className:"chart-content doughnut"},g.a.createElement(d.a,{data:n,options:r})),g.a.createElement("div",{className:"chart-note"},t("Sample size number of patients",{size:l})))},E=a(76),y=a(22),N="country",j="state",O={Myanmar:{name:"Myanmar",geoDataFile:"".concat("/maps","/myanmar.json"),mapType:N,graphObjectName:"myanmar"},Ayeyarwady:{name:"Ayeyarwady",geoDataFile:"".concat("/maps","/ayeyarwady.json"),mapType:j,graphObjectName:"ayeyarwady"},Bago:{name:"Bago",geoDataFile:"".concat("/maps","/bago.json"),mapType:j,graphObjectName:"bago"},Chin:{name:"Chin",geoDataFile:"".concat("/maps","/chin.json"),mapType:j,graphObjectName:"chin"},Kachin:{name:"Kachin",geoDataFile:"".concat("/maps","/kachin.json"),mapType:j,graphObjectName:"kachin"},Kayah:{name:"Kayah",geoDataFile:"".concat("/maps","/kayah.json"),mapType:j,graphObjectName:"kayah"},Kayin:{name:"Kayin",geoDataFile:"".concat("/maps","/kayin.json"),mapType:j,graphObjectName:"kayin"},Magway:{name:"Magway",geoDataFile:"".concat("/maps","/magway.json"),mapType:j,graphObjectName:"magway"},Mandalay:{name:"Mandalay",geoDataFile:"".concat("/maps","/mandalay.json"),mapType:j,graphObjectName:"mandalay"},Mon:{name:"Mon",geoDataFile:"".concat("/maps","/mon.json"),mapType:j,graphObjectName:"mon"},"Nay Pyi Taw":{name:"Nay Pyi Taw",geoDataFile:"".concat("/maps","/naypyitaw.json"),mapType:j,graphObjectName:"naypyitaw"},Rakhine:{name:"Rakhine",geoDataFile:"".concat("/maps","/rakhine.json"),mapType:j,graphObjectName:"rakhine"},Sagaing:{name:"Sagaing",geoDataFile:"".concat("/maps","/sagaing.json"),mapType:j,graphObjectName:"sagaing"},Shan:{name:"Shan",geoDataFile:"".concat("/maps","/shan.json"),mapType:j,graphObjectName:"shan"},Tanintharyi:{name:"Tanintharyi",geoDataFile:"".concat("/maps","/tanintharyi.json"),mapType:j,graphObjectName:"tanintharyi"},Yangon:{name:"Yangon",geoDataFile:"".concat("/maps","/yangon.json"),mapType:j,graphObjectName:"yangon"}},w={"MM-07":"Ayeyarwady","MM-02":"Bago","MM-14":"Chin","MM-11":"Kachin","MM-12":"Kayah","MM-13":"Kayin","MM-03":"Magway","MM-04":"Mandalay","MM-15":"Mon","MM-18":"Nay Pyi Taw","MM-16":"Rakhine","MM-01":"Sagaing","MM-17":"Shan","MM-05":"Tanintharyi","MM-06":"Yangon"},k=[],M={};Object.keys(w).map((function(e,t){return M[w[e]]=e,k.push({code:e,name:w[e]}),null}));var x=a(137),D=a(517),C=a(488),S=(a(489),a(519)),I={"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Aug","09":"Sep",10:"Oct",11:"Nov",12:"Dec"},A=function(e){return m.a.t("statenames.".concat(e.toLowerCase()))},T=function(e){return A(w[e.toUpperCase()])},F=function(){return Object(x.a)(Object(S.a)(new Date,"Asia/Rangoon"))},L=function(e){var t=e.slice(0,2),a=e.slice(3,5),n=e.slice(6,10),c=e.slice(11);return"".concat(n,"-").concat(a,"-").concat(t,"T").concat(c,"+06:30")},R=function(e){var t=Number(e.slice(0,2)),a=e.slice(3,5),n=e.slice(11);return m.a.t("absoluteDate",{time:n.slice(0,5),day:t,month:m.a.t(I[a])})},U=function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=["dailyconfirmed","dailydeceased","dailyrecovered","totalconfirmed","totaldeceased","totalrecovered"];return e.filter((function(e){return t.every((function(t){return e[t]>=0}))&&e.date})).filter((function(e){var t=F(),a=Object(D.a)(e.date,"dd/MM/yyyy",new Date);return Object(C.a)(a,t)}))}(e).map((function(e,t){return{date:Object(D.a)(e.date,"dd/MM/yyyy",new Date),totalconfirmed:+e.totalconfirmed,totalrecovered:+e.totalrecovered,totaldeceased:+e.totaldeceased,dailyconfirmed:+e.dailyconfirmed,dailyrecovered:+e.dailyrecovered,dailydeceased:+e.dailydeceased,totalactive:+e.totalconfirmed-+e.totalrecovered-+e.totaldeceased,dailyactive:+e.dailyconfirmed-+e.dailyrecovered-+e.dailydeceased}}))};var H=function(e){var t=new Intl.NumberFormat("en-US");return isNaN(e)?"-":t.format(e)},W=function(e){for(var t=e.states_daily,a=Object.keys(w).reduce((function(e,t){return e[t]=[],e}),{}),c=F(),r=function(e){var r=Object(D.a)(t[e].date,"dd/MM/yyyy",new Date);Object(C.a)(r,c)&&Object.entries(a).forEach((function(a){var c=Object(n.a)(a,2),l=c[0],i=c[1],s=l.toLowerCase(),o=i[i.length-1]||{},d=+t[e][s]||0,m=+t[e+1][s]||0,u=+t[e+2][s]||0,f=+t[e][s]+(o.totalconfirmed||0),p=+t[e+1][s]+(o.totalrecovered||0),h=+t[e+2][s]+(o.totaldeceased||0);i.push({date:r,dailyconfirmed:d,dailyrecovered:m,dailydeceased:u,totalconfirmed:f,totalrecovered:p,totaldeceased:h,totalactive:f-p-h,dailyactive:d-m-u})}))},l=0;l<t.length;l+=3)r(l);return a};var _=function(e){var t=Object(c.b)().t,a=[],n=g.a.createRef();if(!e.data||0===e.data.length)return g.a.createElement("div",null);var r=new Map;e.data.forEach((function(e){"Confirmed"===e.status&&Object.keys(e).forEach((function(t){if("date"===t){var n=Object(D.a)(e.date,"dd/MM/yyyy",new Date);a.push(n)}if("status"!==t&&"date"!==t){r.has(t)||r.set(t,[]);var c=r.get(t).length>0?parseInt(r.get(t)[r.get(t).length-1]):0,l=""!==e[t]?parseInt(e[t]):0;r.get(t).push(c+l)}}))}));var l=new Map(Object(E.a)(r.entries()).sort((function(e,t){return e[1][e[1].length-1]<t[1][t[1].length-1]?1:-1}))),i=["#718af0","#7dd6fa","#59b3aa","#9bc26b","#e5d22f","#ffb041","#ff8a66","#db6b8f","#bd66cc","#8e8e8e"],s=0,m=[];l.forEach((function(e,t){"tt"!==t&&(s>=10||(m.push({borderWidth:2,data:r.get(t),borderCapStyle:"round",pointBackgroundColor:i[s],label:T(t),borderColor:i[s],pointHoverRadius:.5}),s++))}));var u={labels:a,datasets:m},v=o()(f,{tooltips:{mode:"index"},elements:{point:{radius:0},line:{tension:0}},legend:{labels:{boxWidth:20,fontSize:11}},scales:{yAxes:[o()(p,{type:"linear",ticks:{beginAtZero:!0,max:void 0,precision:0},scaleLabel:{display:!1,labelString:"Total Cases"}})],xAxes:[o()(h,{type:"time",time:{unit:"day",tooltipFormat:"MMM DD",stepSize:7,displayFormats:{millisecond:"MMM DD",second:"MMM DD",minute:"MMM DD",hour:"MMM DD",day:"MMM DD",week:"MMM DD",month:"MMM DD",quarter:"MMM DD",year:"MMM DD"}},gridLines:{color:"rgba(0, 0, 0, 0)"}})]}});return g.a.createElement("div",{className:"charts-header"},g.a.createElement("div",{className:"chart-title"},e.title),g.a.createElement("div",{className:"chart-content"},g.a.createElement(d.c,{data:u,options:v,ref:n})),g.a.createElement("div",{className:"chart-note",style:{marginTop:"0px",height:"30px"}},g.a.createElement("button",{onClick:function(){for(var e=n.current.chartInstance,t=0;t<e.data.datasets.length;t++){var a=e.getDatasetMeta(t);a.hidden=null===a.hidden?!n.current.chartInstance.data.datasets[t].hidden:null}e.update()}},t("Toggle Selection"))))},B=a(518);var P=function(e){var t=Object(c.b)().t,a=[],n=[],r=[],l=[];if(!e.timeseries||0===e.timeseries.length)return g.a.createElement("div",null);e.timeseries.forEach((function(e,t){if(t>=31){var c=Object(D.a)(e.date,"dd/MM/yyyy",new Date);a.push(Object(B.a)(c,"dd MMM")),n.push(e.dailyconfirmed),r.push(e.dailyrecovered),l.push(e.dailydeceased)}}));var i={labels:a,datasets:[{data:r,label:t("recovered.full"),backgroundColor:"#7ebf80"},{data:l,label:t("deceased.full"),backgroundColor:"#6c757d"},{data:n,label:t("confirmed.full"),backgroundColor:"#ff6862"}]},s=o()(f,{tooltips:{mode:"index"},legend:{display:!0,reverse:!0,labels:{usePointStyle:!0,generateLabels:function(e){var t=d.d.global.legend.labels.generateLabels(e);return t.forEach((function(e){e.pointStyle="rectRounded"})),t}}},scales:{xAxes:[o()(h,{stacked:!0})],yAxes:[o()(p,{stacked:!0,ticks:{callback:function(e){return u(e)}}})]}});return g.a.createElement("div",{className:"charts-header"},g.a.createElement("div",{className:"chart-title"},e.title),g.a.createElement("div",{className:"chart-content"},g.a.createElement(d.a,{data:i,options:s})))};var z=function(e){var t=Object(c.b)().t,a=0,n=0;if(!e.data||0===e.data.length)return g.a.createElement("div",null);e.data.forEach((function(e){"M"===e.gender?a++:"F"===e.gender&&n++}));var r={datasets:[{data:[a,n],backgroundColor:["#6497f3","#ea6e9a"],label:"Hola"}],labels:[t("Male"),t("Female")]},l=o()(f,{tooltips:{mode:"point",position:"nearest",callbacks:{label:function(e,t){var a=t.datasets[e.datasetIndex],n=a._meta[Object.keys(a._meta)[0]].total,c=a.data[e.index],r=parseFloat((c/n*100).toFixed(1));return u(c)+" ("+u(r)+"%)"},title:function(e,t){return t.labels[e[0].index]}}}});return g.a.createElement("div",{className:"charts-header"},g.a.createElement("div",{className:"chart-title"},e.title),g.a.createElement("div",{className:"chart-content doughnut"},g.a.createElement(d.b,{data:r,options:l})),g.a.createElement("div",{className:"chart-note"},t("Sample size number of patients",{size:a+n})))};var Y=function(e){var t=Object(c.b)().t,a=[];if(d.d.global.elements.line.fill=!1,d.d.global.tooltips.intersect=!1,d.d.global.tooltips.mode="nearest",d.d.global.tooltips.position="average",d.d.global.tooltips.backgroundColor="rgba(255, 255, 255, 0.6)",d.d.global.tooltips.displayColors=!1,d.d.global.tooltips.borderColor="#c62828",d.d.global.tooltips.borderWidth=1,d.d.global.tooltips.titleFontColor="#000",d.d.global.tooltips.bodyFontColor="#000",d.d.global.tooltips.caretPadding=4,d.d.global.tooltips.intersect=!1,d.d.global.tooltips.mode="nearest",d.d.global.tooltips.position="nearest",d.d.global.legend.display=!0,d.d.global.legend.position="bottom",d.d.global.hover.intersect=!1,!e.data||0===e.data.length)return g.a.createElement("div",null);var n=new Map,r=new Map;e.data.forEach((function(e,t){"Confirmed"===e.status&&Object.keys(e).forEach((function(t){if("date"===t){var c=Object(D.a)(e.date,"dd-MMM-yy",new Date);a.push(c)}if("status"!==t&&"date"!==t){var l=""!==e[t]?parseInt(e[t]):0;if(0!==l||n.has(t)){n.has(t)||(n.set(t,[]),r.set(t,[]));for(var i=n.get(t).length>0?parseInt(n.get(t)[n.get(t).length-1].x):0,s=r.get(t),o=0,d=1;d<=7;++d){var m=s.length-d;m>=0&&(o+=s[m])}n.get(t).push({x:i+l,y:o}),r.get(t).push(l)}}}))}));var l=new Map(Object(E.a)(n.entries()).sort((function(e,t){return e[1][e[1].length-1].x<t[1][t[1].length-1].x?1:-1}))),i=["#ff073a","#28a745","#342ead","#7D5BA6","#DD7596","#16c8f0","#f67575","#2b580c","#9D44B5","#91132d","#6D9DC5","#2b580c","#6c757d","#f67575","#d4f8e8"],s=0,m=[];l.forEach((function(e,t){"tt"!==t&&(s>=10||(m.push({data:n.get(t),label:T(t),order:s,borderWidth:1,borderCapStyle:"round",borderColor:i[s],pointBackgroundColor:i[s],pointHoverRadius:1}),s++))}));var u={datasets:m},v=o()(f,{responsive:!0,events:["click","mousemove","mouseout","touchstart","touchmove"],maintainAspectRatio:!1,tooltips:{mode:"index"},elements:{point:{radius:0},line:{cubicInterpolationMode:"monotone"}},layout:{padding:{left:20,right:20,top:0,bottom:20}},scales:{yAxes:[o()(p,{type:"logarithmic",ticks:{beginAtZero:!0,min:1,max:2e3,precision:0,callback:function(e,t,a){return Number(e.toString())}},scaleLabel:{display:!0,labelString:t("New Cases (since last 7 days)")},gridLines:{color:"rgba(0, 0, 0, 0)"}})],xAxes:[o()(h,{type:"logarithmic",ticks:{beginAtZero:!0,min:0,max:2e3,precision:0,callback:function(e,t,a){return Number(e.toString())}},scaleLabel:{display:!0,labelString:t("Total Cases")},gridLines:{color:"rgba(0, 0, 0, 0)"}})]}});return g.a.createElement("div",{className:"charts-header"},g.a.createElement("div",{className:"chart-title"},e.title),g.a.createElement("div",{className:"chart-content"},g.a.createElement(d.c,{data:u,options:v})))};var V=function(e){var t=Object(c.b)().t;if(!e.data||0===e.data.length)return g.a.createElement("div",null);var a={};e.data.forEach((function(e){e.nationality&&(a.hasOwnProperty(e.nationality.toLowerCase())||(a[e.nationality.toLowerCase()]=0),a[e.nationality.toLowerCase()]++)}));var n=[],r=[];Object.keys(a).forEach((function(e){e&&(r.push(e.toUpperCase()),n.push(a[e]))}));var l={datasets:[{data:n,backgroundColor:["#ff8a66","#718af0","#7dd6fa","#59b3aa","#9bc26b","#e5d22f","#ffb041","#db6b8f","#bd66cc","#8e8e8e"]}],labels:r},i=o()(f,{layout:{padding:{left:20,right:20,top:0,bottom:20}},legend:{display:!1},responsive:!0,maintainAspectRatio:!1,tooltips:{mode:"point",events:["mousemove","mouseout","touchstart","touchmove","touchend"],callbacks:{label:function(e,t){var a=t.datasets[e.datasetIndex],n=a._meta[Object.keys(a._meta)[0]].total,c=a.data[e.index],r=parseFloat((c/n*100).toFixed(1));return u(c)+" ("+u(r)+"%)"},title:function(e,t){return t.labels[e[0].index]}}}}),s=n.reduce((function(e,t){return e+t}),0);return g.a.createElement("div",{className:"charts-header"},g.a.createElement("div",{className:"chart-title"},e.title),g.a.createElement("div",{className:"chart-content doughnut"},g.a.createElement(d.b,{data:l,options:i})),g.a.createElement("div",{className:"chart-note"},t("Sample size number of patients",{size:s})))};var J=function(e){var t=Object(c.b)().t,a=[],n=[],r=[],l=[];if(!e.timeseries||0===e.timeseries.length)return g.a.createElement("div",null);e.timeseries.forEach((function(e,t){if(t>=0){var c=Object(D.a)(e.date,"dd/MM/yyyy",new Date);a.push(c),n.push(e.totalconfirmed),r.push(e.totalrecovered),l.push(e.totaldeceased)}}));var i={labels:a,datasets:[{borderWidth:2,data:n,borderCapStyle:"round",pointBackgroundColor:"#ff6862",label:t("confirmed.full"),borderColor:"#ff6862",pointHoverRadius:2},{borderWidth:2,data:r,borderCapStyle:"round",pointBackgroundColor:"#7ebf80",label:t("recovered.full"),borderColor:"#7ebf80",pointHoverRadius:2},{borderWidth:2,data:l,borderCapStyle:"round",pointBackgroundColor:"#6c757d",label:t("deceased.full"),borderColor:"#6c757d",pointHoverRadius:2}]},s=o()(f,{elements:{point:{radius:0},line:{tension:.1}},scales:{yAxes:[o()(p,{scaleLabel:{display:!1,labelString:t("Total Cases")}})],xAxes:[o()(h,{type:"time",time:{unit:"day",tooltipFormat:"MMM DD",stepSize:7,displayFormats:{millisecond:"MMM DD",second:"MMM DD",minute:"MMM DD",hour:"MMM DD",day:"MMM DD",week:"MMM DD",month:"MMM DD",quarter:"MMM DD",year:"MMM DD"}}})]}});return e.mode&&(s.scales.yAxes=[{type:"logarithmic",ticks:{min:0,max:1e4,callback:function(e,t,a){return 1e4===e?"10000":2e3===e?"2500":500===e?"500":100===e?"100":20===e?"25":5===e?"5":0===e?"0":null}},scaleLabel:{display:!1,labelString:t("Total Cases")}}]),g.a.createElement("div",{className:"charts-header"},g.a.createElement("div",{className:"chart-title"},e.title),g.a.createElement("div",{className:"chart-content"},g.a.createElement(d.c,{data:i,options:s})))},G=a(14),K=a.n(G),q=a(35);var X=function(){var e=Object(c.b)().t,t=Object(v.useState)(!1),a=Object(n.a)(t,2),r=a[0],s=a[1],o=Object(v.useState)([]),d=Object(n.a)(o,2),m=d[0],u=d[1],f=Object(v.useState)([]),p=Object(n.a)(f,2),h=p[0],E=p[1],y=Object(v.useState)([]),N=Object(n.a)(y,2),j=N[0],O=N[1];Object(v.useEffect)((function(){!1===r&&w()}),[r]);var w=function(){var e=Object(i.a)(l.a.mark((function e(){var t,a,c,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([K.a.get("https://thantthet.github.io/covid19-api/data.json"),K.a.get("https://thantthet.github.io/covid19-api/raw_data.json"),K.a.get("https://thantthet.github.io/covid19-api/states_daily.json")]);case 3:t=e.sent,a=Object(n.a)(t,3),c=a[0],r=a[1],i=a[2],u(c.data.cases_time_series),O(i.data.states_daily),E(r.data.raw_data),s(!0),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return g.a.createElement("div",{className:"cards-container"},g.a.createElement(q.a,null,g.a.createElement("title",null,"Deep Dive - covid19.ttkz.me"),g.a.createElement("meta",{name:"title",content:"Deep Dive - covid19.ttkz.me"})),g.a.createElement("section",{className:"cards"},g.a.createElement("div",{className:"card fadeInUp",style:{animationDelay:"0.7s"}},g.a.createElement(J,{title:e("Total Cases"),timeseries:m})),g.a.createElement("div",{className:"card fadeInUp",style:{animationDelay:"0.7s"}},g.a.createElement(P,{title:e("Daily Cases"),timeseries:m})),g.a.createElement("div",{className:"card card-big fadeInUp",style:{animationDelay:"0.7s"}},g.a.createElement(_,{title:e("Total Cases by State"),data:j})),g.a.createElement("div",{className:"card fadeInUp",style:{animationDelay:"0.7s"}},g.a.createElement(Y,{title:e("States - Growth Trend"),data:j})),g.a.createElement("div",{className:"card fadeInUp",style:{animationDelay:"0.7s"}},g.a.createElement(z,{title:e("Patient Gender"),data:h})),g.a.createElement("div",{className:"card fadeInUp",style:{animationDelay:"0.7s"}},g.a.createElement(b,{title:e("Patients by Age"),data:h})),g.a.createElement("div",{className:"card fadeInUp",style:{animationDelay:"0.7s"}},g.a.createElement(V,{title:e("Patients by  Nationality"),data:h}))))},Z=a(490),$=a(491);var Q=g.a.memo((function(e){var t=Object(c.b)().t;return g.a.createElement("footer",{className:"fadeInUp",style:{animationDelay:"2s"}},g.a.createElement("h5",null,t("We stand with everyone fighting on the frontlines")),g.a.createElement("a",{href:"https://github.com/thantthet/covid19myanmar-react",className:"button github",target:"_blank",rel:"noopener noreferrer"},g.a.createElement(Z.a,null),g.a.createElement("span",null,"A fork of covid19india.org")),g.a.createElement("a",{className:"button excel",href:"http://covidmyanmar.com",target:"_blank",rel:"noopener noreferrer"},g.a.createElement($.a,null),g.a.createElement("span",null,"Live data from covidmyanmar.com")))})),ee=a(234);var te=g.a.memo((function(e){var t=Object(c.b)().t,a=Object(v.useState)(e.data),r=Object(n.a)(a,2),l=r[0],i=r[1];return Object(ee.a)((function(){i({active:+e.data.active,confirmed:+e.data.confirmed,recovered:+e.data.recovered,deaths:+e.data.deaths,deltaconfirmed:+e.data.deltaconfirmed,deltadeaths:+e.data.deltadeaths,deltarecovered:+e.data.deltarecovered})})),g.a.createElement("div",{className:"Level"},g.a.createElement("div",{className:"level-item is-cherry fadeInUp",style:{animationDelay:"1s"}},g.a.createElement("h5",null,t("confirmed.full")),g.a.createElement("h4",null,"[",isNaN(l.deltaconfirmed)?"":l.deltaconfirmed>0?"+"+H(l.deltaconfirmed):"+0","]"),g.a.createElement("h1",null,H(l.confirmed)," ")),g.a.createElement("div",{className:"level-item is-blue fadeInUp",style:{animationDelay:"1.1s"}},g.a.createElement("h5",{className:"heading"},t("active.full")),g.a.createElement("h4",null,"\xa0"),g.a.createElement("h1",{className:"title has-text-info"},H(l.active))),g.a.createElement("div",{className:"level-item is-green fadeInUp",style:{animationDelay:"1.2s"}},g.a.createElement("h5",{className:"heading"},t("recovered.full")),g.a.createElement("h4",null,"[",isNaN(l.deltarecovered)?"":l.deltarecovered>0?"+"+H(l.deltarecovered):"+0","]"),g.a.createElement("h1",{className:"title has-text-success"},H(l.recovered)," ")),g.a.createElement("div",{className:"level-item is-gray fadeInUp",style:{animationDelay:"1.3s"}},g.a.createElement("h5",{className:"heading"},t("deceased.full")),g.a.createElement("h4",null,"[",isNaN(l.deltadeaths)?"":l.deltadeaths>0?"+"+H(l.deltadeaths):"+0","]"),g.a.createElement("h1",{className:"title has-text-grey"},H(l.deaths))))})),ae=a(4);function ne(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,a=document.createElement("canvas"),n=(a.width=t,a.height=1,a).getContext("2d"),c=0;c<t;++c)n.fillStyle=e(c/(t-1)),n.fillRect(c,0,1,1);return a}var ce=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.color,n=t.title,c=t.tickSize,r=void 0===c?6:c,l=t.width,i=void 0===l?320:l,s=t.height,o=void 0===s?44+r:s,d=t.marginTop,m=void 0===d?18:d,u=t.marginRight,f=void 0===u?0:u,p=t.marginBottom,h=void 0===p?16+r:p,v=t.marginLeft,g=void 0===v?0:v,b=t.ticks,E=void 0===b?i/64:b,y=t.tickFormat,N=t.tickValues,j=ae.d("svg").attr("width",i).attr("height",o).attr("viewBox",[0,0,i,o]).style("overflow","visible").style("display","block"),O=function(e){e.selectAll(".tick line").attr("y1",m+h-o)};if(a.interpolate){var w=Math.min(a.domain().length,a.range().length);e=a.copy().rangeRound(ae.A(ae.o(g,i-f),w)),j.append("image").attr("x",g).attr("y",m).attr("width",i-g-f).attr("height",o-m-h).attr("preserveAspectRatio","none").attr("xlink:href",ne(a.copy().domain(ae.A(ae.o(0,1),w))).toDataURL())}else if(a.interpolator){if(e=Object.assign(a.copy().interpolator(ae.t(g,i-f)),{range:function(){return[g,i-f]}}),j.append("image").attr("x",g).attr("y",m).attr("width",i-g-f).attr("height",o-m-h).attr("preserveAspectRatio","none").attr("xlink:href",ne(a.interpolator()).toDataURL()),!e.ticks){if(void 0===N){var k=Math.round(E+1);N=ae.B(k).map((function(e){return ae.z(a.domain(),e/(k-1))}))}"function"!==typeof y&&(y=ae.l(void 0===y?",f":y))}}else if(a.invertExtent){var M=a.thresholds?a.thresholds():a.quantiles?a.quantiles():a.domain(),x=void 0===y?function(e){return e}:"string"===typeof y?ae.l(y):y;e=ae.D().domain([-1,a.range().length-1]).rangeRound([g,i-f]),j.append("g").selectAll("rect").data(a.range()).join("rect").attr("x",(function(t,a){return e(a-1)})).attr("y",m).attr("width",(function(t,a){return e(a)-e(a-1)})).attr("height",o-m-h).attr("fill",(function(e){return e})),N=ae.B(-1,M.length),y=function(e){return-1===e?x(1):e!==M.length-1?e===M.length-2?x(M[e]+"+",e):x(M[e],e):void 0}}else e=ae.C().domain(a.domain()).rangeRound([g,i-f]),j.append("g").selectAll("rect").data(a.domain()).join("rect").attr("x",e).attr("y",m).attr("width",Math.max(0,e.bandwidth()-1)).attr("height",o-m-h).attr("fill",a),O=function(){};return j.append("g").attr("transform","translate(0,".concat(o-h,")")).call(ae.a(e).ticks(E,"string"===typeof y?y:void 0).tickFormat("function"===typeof y?y:void 0).tickSize(r).tickValues(N)).call(O).call((function(e){return e.select(".domain").remove()})).call((function(e){return e.append("text").attr("x",g).attr("y",m+h-o-6).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").text(n)})),j.node()},re=a(493),le=a(144),ie={country:"ST",state:"DT"};var se=g.a.memo((function(e){var t,a,r=e.statistic,s=e.mapData,o=e.setHoveredRegion,d=e.mapMeta,m=e.changeMap,u=e.selectedRegion,f=e.setSelectedRegion,p=e.isCountryLoaded,h=e.mapOption,b=Object(c.b)().t,E=Object(v.useRef)(null),y=Object(v.useRef)(null),O=Object(v.useState)(0),w=Object(n.a)(O,2),k=w[0],M=w[1],x=Object(v.useCallback)((function(e){ae.I("svg#chart > *").remove();var t,a,n,c=ie[d.mapType],l=ae.H(E.current),i=le.a(e,e.objects[d.graphObjectName]),u=ae.m();if(!l.attr("viewBox")){var v=parseInt(l.style("width"));if(p)u.fitWidth(v,i);else{var g=parseInt(l.style("height"));u.fitSize([v,g],i)}var O=(t=ae.n(u)).bounds(i);a=+O[1][0],n=+O[1][1],l.attr("viewBox","0 0 ".concat(a," ").concat(n))}var w=l.attr("viewBox").split(" ");a=+w[2],n=+w[3],u.fitSize([a,n],i),t=ae.n(u);var k=ae.H(y.current);k.selectAll("*").remove();var M=ae.F([0,Math.max(1,r[h].max)],(function(e){switch(h){case"confirmed":return ae.s(.85*e);case"active":return ae.p(.85*e);case"recovered":return ae.q(.85*e);case"deceased":return ae.r(.85*e);default:return}})),x=parseInt(k.style("width")),C=+k.attr("height");k.append("g").append((function(){return ce({color:M,title:b("".concat(h,".full")),width:x,height:.8*C,ticks:6,tickFormat:function(e,t,a){if(Number.isInteger(e))return t===a.length-1?H(e)+"+":H(e)},marginLeft:2,marginRight:20})})),k.attr("viewBox","0 0 ".concat(x," ").concat(C));var S=null,I=l.append("g").attr("class",d.graphObjectName);I.append("g").attr("class","states").selectAll("path").data(i.features).join("path").attr("class","path-region ".concat(h)).attr("fill",(function(e){var t=e.properties[c],a=s[t]?s[t][h]:0;return 0===a?"#ffffff":M(a)})).attr("d",t).attr("pointer-events","all").on("mouseenter",(function(e){A(e.properties[c])})).on("mouseleave",(function(e){S===e&&(S=null)})).on("touchstart",(function(e){S=S===e?null:e})).on("click",(function(e){if(ae.g.stopPropagation(),S||d.mapType===j)return;l.attr("pointer-events","none"),I.selectAll(".path-region").attr("pointer-events","none"),m(e.properties[c])})).style("cursor","pointer").append("title").text((function(e){var t=e.properties[c],a=s[t]?s[t][h]:0;return Number(parseFloat(a/(r[h].total||.001)*100).toFixed(2)).toString()+"% from "+D(t)})),I.append("path").attr("class","borders").attr("stroke","".concat("confirmed"===h?"#ff073a30":"active"===h?"#007bff30":"recovered"===h?"#28a74530":"deceased"===h?"#6c757d30":"")).attr("fill","none").attr("stroke-width",a/250).attr("d",t(le.b(e,e.objects[d.graphObjectName])));var A=function(e){try{f(e),o(e,d)}catch(t){console.log("err",t)}};l.attr("pointer-events","auto").on("click",(function(){d.mapType===N&&(f(null),o("Total",d))}))}),[b,d,r,h,p,s,f,o,m]),D=function(e){e=e.toLowerCase().split(" ");for(var t=0;t<e.length;t++)e[t]=e[t].charAt(0).toUpperCase()+e[t].slice(1);return e.join(" ")};return Object(v.useEffect)((function(){Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.u(d.geoDataFile);case 2:t=e.sent,r&&E.current&&(x(t),M((function(e){return e+1})));case 4:case"end":return e.stop()}}),e)})))()}),[d.geoDataFile,r,x]),Object(v.useEffect)((function(){var e;e=u,ae.I(".path-region").classed("map-hover",(function(t,a,n){var c=ie.state in t.properties?ie.state:ie.country;return e===t.properties[c]&&(n[a].parentNode.appendChild(n[a]),!0)}))}),[k,u]),g.a.createElement("div",null,g.a.createElement("div",{className:"svg-parent fadeInUp",style:{animationDelay:"2.5s"}},g.a.createElement("svg",{id:"chart",preserveAspectRatio:"xMidYMid meet",ref:E}),"recovered"===h&&(null===s||void 0===s||null===(t=s.Unknown)||void 0===t?void 0:t.recovered)||"deceased"===h&&(null===s||void 0===s||null===(a=s.Unknown)||void 0===a?void 0:a.deceased)?g.a.createElement("div",{className:"disclaimer"},g.a.createElement(re.a,null),"District-wise ".concat(h," numbers are under reconciliation")):""),g.a.createElement("div",{className:"svg-parent legend fadeInUp",style:{animationDelay:"2.5s"}},g.a.createElement("svg",{id:"legend",height:"65",preserveAspectRatio:"xMidYMid meet",ref:y})),g.a.createElement("svg",{style:{position:"absolute",height:0}},g.a.createElement("defs",null,g.a.createElement("filter",{id:"balance-color",colorInterpolationFilters:"sRGB"},g.a.createElement("feColorMatrix",{type:"matrix",values:"0.91372549 0 0 0 0.08627451 0 0.91372549 0 0 0.08627451 0 0 0.854901961 0 0.145098039 0 0 0 1 0"})))))})),oe=a(516),de=a(495),me=a(496),ue=a(15),fe=a(494),pe=function(e){if(e){var t=Object(y.a)({},e);return t.name||(t.name=t.state),t}};var he=g.a.memo((function(e){var t=e.mapMeta,a=e.states,r=e.stateDistrictWiseData,l=e.regionHighlighted,i=e.onMapHighlightChange,s=e.isCountryLoaded,o=e.anchor,d=e.setAnchor,m=e.mapOptionProp,u=Object(c.b)().t,f=Object(v.useState)({}),p=Object(n.a)(f,2),h=p[0],b=p[1],E=Object(v.useState)(pe(a[0])),w=Object(n.a)(E,2),k=w[0],M=w[1],x=Object(v.useState)(pe(a[0])),D=Object(n.a)(x,2),C=D[0],S=D[1],I=Object(v.useState)(t),T=Object(n.a)(I,2),F=T[0],R=T[1],U=Object(fe.a)("mapOption","active"),W=Object(n.a)(U,2),_=W[0],B=W[1],P=Object(v.useMemo)((function(){var e=["confirmed","active","recovered","deceased"],t=e.reduce((function(e,t){return e[t]={total:0,max:0},e}),{}),n={};if(F.mapType===N)n=a.reduce((function(a,n){return"Total"===n.state||(a[n.state]={},e.forEach((function(e){var c=parseInt(n["deceased"!==e?e:"deaths"]);t[e].total+=c,c>t[e].max&&(t[e].max=c),a[n.state][e]=c}))),a}),{});else if(F.mapType===j){var c=(r[F.name]||{districtData:{}}).districtData;n=Object.keys(c).reduce((function(a,n){return a[n]={},e.forEach((function(e){var r=parseInt(c[n][e]);t[e].total+=r,r>t[e].max&&(t[e].max=r),a[n][e]=r})),a}),{})}return[t,n]}),[F,a,r]),z=Object(n.a)(P,2),Y=z[0],V=z[1],J=Object(v.useCallback)((function(e,t){if(t.mapType===N){var n=pe(a.find((function(t){return e===t.state})));S(n),M(n),i(n)}else if(t.mapType===j){var c=(r[t.name]||{districtData:{}}).districtData[e];c||(c={confirmed:0,active:0,recovered:0,deaths:0});var l=function(e,t){if(e){var a=Object(y.a)({},e);return a.name||(a.name=t),a}}(c,e),s=pe(a.find((function(e){return t.name===e.state})));M(s),l.statecode=s.statecode,S(l),s.districtName=l.name,i&&i(s)}}),[a,r,i]);Object(v.useEffect)((function(){m&&B(m)}),[m,B]),Object(v.useEffect)((function(){if(void 0!==l&&null!==l)if(!("district"in l)){var e=O.Myanmar;R(e);var t=pe(l.state);J(t.name,e),b(t.name)}else{var a=O[l.state.state];if(!a)return;R(a),J(l.district,a),b(l.district)}}),[l,J]);var G=Object(v.useCallback)((function(e){var t=O[e];if(t)if(R(t),b(null),t.mapType===N)J(a[0].state,t);else if(t.mapType===j){var n=(r[e]||{districtData:{}}).districtData,c=Object.keys(n).filter((function(e){return"Unknown"!==e})).sort((function(e,t){return n[t].confirmed-n[e].confirmed}))[0];J(c,t),b(c)}}),[J,r,a]);return g.a.createElement("div",{className:"MapExplorer fadeInUp ".concat("mapexplorer"===o?"stickied":""),style:{animationDelay:"1.5s",display:"timeseries"===o?"none":""}},window.innerWidth>769&&g.a.createElement("div",{className:"anchor ".concat("mapexplorer"===o?"stickied":""),onClick:function(){d("mapexplorer"===o?null:"mapexplorer")}},g.a.createElement(de.a,null)),g.a.createElement("div",{className:"header"},g.a.createElement("h1",null,u("Map",{name:F.mapType===N?u(F.name):A(F.name)})),g.a.createElement("h6",null,window.innerWidth<=769?F.mapType===N?u("map.tap.state"):u("map.tap.district"):F.mapType===N?u("map.hover.state"):u("map.hover.district"))),g.a.createElement("div",{className:"map-stats"},g.a.createElement("div",{className:"stats fadeInUp ".concat("confirmed"===_?"focused":""),style:{animationDelay:"2s"},onClick:function(){return B("confirmed")}},g.a.createElement("h5",null,window.innerWidth<=769?u("confirmed.short"):u("confirmed.full")),g.a.createElement("div",{className:"stats-bottom"},g.a.createElement("h1",null,H(k.confirmed)),g.a.createElement("h6",null,"+".concat(H(k.deltaconfirmed))))),g.a.createElement("div",{className:"stats is-blue fadeInUp ".concat("active"===_?"focused":""),style:{animationDelay:"2.1s"},onClick:function(){return B("active")}},g.a.createElement("h5",null,window.innerWidth<=769?u("active.short"):u("active.full")),g.a.createElement("div",{className:"stats-bottom"},g.a.createElement("h1",null,H(k.active)),g.a.createElement("h6",null," "))),g.a.createElement("div",{className:"stats is-green fadeInUp ".concat("recovered"===_?"focused":""),style:{animationDelay:"2.2s"},onClick:function(){return B("recovered")}},g.a.createElement("h5",null,window.innerWidth<=769?u("recovered.short"):u("recovered.full")),g.a.createElement("div",{className:"stats-bottom"},g.a.createElement("h1",null,H(k.recovered)),g.a.createElement("h6",null,"+".concat(H(k.deltarecovered))))),g.a.createElement("div",{className:"stats is-gray fadeInUp ".concat("deceased"===_?"focused":""),style:{animationDelay:"2.3s"},onClick:function(){return B("deceased")}},g.a.createElement("h5",null,window.innerWidth<=769?u("deceased.short"):u("deceased.full")),g.a.createElement("div",{className:"stats-bottom"},g.a.createElement("h1",null,H(k.deaths)),g.a.createElement("h6",null,"+".concat(H(k.deltadeaths)))))),g.a.createElement("div",{className:"meta fadeInUp",style:{animationDelay:"2.4s"}},g.a.createElement("h2",{className:"".concat("confirmed"!==_?_:"")},F.mapType===N?A(C.name):C.name),C.lastupdatedtime&&g.a.createElement("div",{className:"last-update"},g.a.createElement("h6",null,u("Last updated")),g.a.createElement("h3",null,isNaN(Date.parse(L(C.lastupdatedtime)))?"":Object(oe.a)(new Date(L(C.lastupdatedtime)),new Date))),F.mapType===j?g.a.createElement(ue.b,{to:"state/".concat(C.statecode)},g.a.createElement("div",{className:"button state-page-button"},g.a.createElement("abbr",null,u("Visit state page")),g.a.createElement(me.a,null))):null,F.mapType===j&&C.name!==F.name?g.a.createElement("h1",{className:"district ".concat("confirmed"!==_?_:"")},V[C.name]?V[C.name][_]:0,g.a.createElement("br",null),g.a.createElement("span",{style:{fontSize:"0.75rem",fontWeight:600}},u("".concat(_,".full")))):null,F.mapType===j&&V.Unknown&&V.Unknown[_]>0?g.a.createElement("h4",{className:"unknown"},"Districts unknown for ",V.Unknown[_]," people"):null,F.mapType===j?g.a.createElement("div",{className:"button back-button",onClick:function(){return G("Myanmar")}},u("Back")):null),_&&g.a.createElement(se,{statistic:Y,mapMeta:F,mapData:V,setHoveredRegion:J,changeMap:G,selectedRegion:h,setSelectedRegion:b,isCountryLoaded:s,mapOption:_}))}));var ve=g.a.memo((function(e){var t=e.timeseries,a=Object(v.useState)([]),c=Object(n.a)(a,2),r=c[0],l=c[1],i=Object(v.useRef)(),s=Object(v.useRef)(),o=Object(v.useRef)(),d=Object(v.useRef)();Object(v.useEffect)((function(){l(t.slice(t.length-20))}),[t]);var m=Object(v.useCallback)((function(e){if(e.length<=1)return 0;var t=10,a=5,n=100-5,c=100-20,r=ae.H(i.current),l=ae.H(s.current),m=ae.H(o.current),u=ae.H(d.current);e.forEach((function(e){e.dailyactive=e.dailyconfirmed-e.dailyrecovered-e.dailydeceased}));var f=ae.G().domain(ae.h(e,(function(e){return e.date}))).range([a,n]),p=[r,l,m,u],h=["dailyconfirmed","dailyactive","dailyrecovered","dailydeceased"],v=["#ff073a","#007bff","#28a745","#6c757d"],g=ae.x(e,(function(e){return e.dailyactive})),b=ae.w(e,(function(e){return Math.max(e.dailyconfirmed,e.dailyrecovered,e.dailydeceased)})),E=Math.max(-g,b),y=ae.D().domain([-E,E]).range([c,t]);p.forEach((function(t,a){var n=h[a],c=v[a],r=t.append("path").datum(e).attr("fill","none").attr("stroke",c+"99").attr("stroke-width",2.5).attr("cursor","pointer").attr("d",ae.v().x((function(e){return f(e.date)})).y((function(e){return y(e[n])})).curve(ae.e)),l=r.node().getTotalLength();r.attr("stroke-dasharray",l+" "+l).attr("stroke-dashoffset",l).transition().delay(500).duration(2500).attr("stroke-dashoffset",0),t.selectAll(".dot").data(e.slice(e.length-1)).enter().append("circle").attr("fill",c).attr("stroke",c).attr("r",2).attr("cursor","pointer").attr("cx",(function(e){return f(e.date)})).attr("cy",(function(e){return y(e[n])})).on("mouseover",(function(e){ae.H(ae.g.target).attr("r","5")})).on("mouseout",(function(e){ae.H(ae.g.target).attr("r","2")})).style("opacity",0).transition().delay(500).duration(2500).style("opacity",1)}))}),[]);return Object(v.useEffect)((function(){m(r)}),[r,m]),g.a.createElement("div",{className:"Minigraph"},g.a.createElement("div",{className:"svg-parent fadeInUp",style:{animationDelay:"1.4s"}},g.a.createElement("svg",{ref:i,width:"100",height:"75",viewBox:"0 0 100 75",preserveAspectRatio:"xMidYMid meet"})),g.a.createElement("div",{className:"svg-parent is-blue fadeInUp",style:{animationDelay:"1.5s"}},g.a.createElement("svg",{ref:s,width:"100",height:"75",viewBox:"0 0 100 75",preserveAspectRatio:"xMidYMid meet"})),g.a.createElement("div",{className:"svg-parent is-green fadeInUp",style:{animationDelay:"1.6s"}},g.a.createElement("svg",{ref:o,width:"100",height:"75",viewBox:"0 0 100 75",preserveAspectRatio:"xMidYMid meet"})),g.a.createElement("div",{className:"svg-parent is-gray fadeInUp",style:{animationDelay:"1.7s"}},g.a.createElement("svg",{ref:d,width:"100",height:"75",viewBox:"0 0 100 75",preserveAspectRatio:"xMidYMid meet"})))})),ge=a(46),be=a(497),Ee=a(498),ye=a(499),Ne=a(145);var je=g.a.memo((function(e){var t=Object(c.b)().t,a=Object(v.useState)(e.state),r=Object(n.a)(a,2),l=r[0],i=r[1],s=Object(v.useState)(e.districts),o=Object(n.a)(s,2),d=o[0],m=o[1],u=Object(v.useState)(e.districts),f=Object(n.a)(u,2),p=f[0],h=f[1],b=Object(v.useState)(!1),E=Object(n.a)(b,2),y=E[0],N=E[1],j=Object(v.useState)({sortColumn:localStorage.getItem("district.sortColumn")?localStorage.getItem("district.sortColumn"):"confirmed",isAscending:!!localStorage.getItem("district.isAscending")&&"true"===localStorage.getItem("district.isAscending")}),O=Object(n.a)(j,2),w=O[0],k=O[1];Object(v.useEffect)((function(){i(e.state)}),[e.state]),Object(v.useEffect)((function(){m(e.districts),h(e.districts)}),[e.districts]);var M=function(e){e.stopPropagation()},x=Object(v.useCallback)((function(e){var t={};e&&(Object.keys(e).sort((function(t,a){var n=w.sortColumn,c="district"===n?t:parseInt(e[t].confirmed),r="district"===n?a:parseInt(e[a].confirmed),l=c>r||c===r&&t>a?1:-1;return w.isAscending?l:-1*l})).forEach((function(a){t[a]=e[a]})),h(t))}),[w.isAscending,w.sortColumn]),D=function(e){var t=w.sortColumn===e?!w.isAscending:"district"===w.sortColumn;k({sortColumn:e,isAscending:t}),localStorage.setItem("district.sortColumn",e),localStorage.setItem("district.isAscending",t)};return Object(v.useEffect)((function(){x(d)}),[d,w,x]),g.a.createElement(g.a.Fragment,null,g.a.createElement("tr",{className:"state ".concat(e.total?"is-total":""," ").concat(e.index%2===0?"is-odd":""," ").concat(e.isHighlighted?"is-highlighted":""),onMouseEnter:function(){var t;return null===(t=e.onHighlightState)||void 0===t?void 0:t.call(e,l,e.index)},onMouseLeave:function(){var t;return null===(t=e.onHighlightState)||void 0===t?void 0:t.call(e)},onClick:e.total?null:function(){e.handleReveal(e.state.state),N(!y)},style:{background:e.index%2===0?"#f8f9fa":""}},g.a.createElement("td",{style:{fontWeight:600}},g.a.createElement("div",{className:"table__title-wrapper"},!e.total&&g.a.createElement("span",{className:"dropdown ".concat(e.reveal&&y?"rotateRightDown":"rotateDownRight")},g.a.createElement(be.a,null)),g.a.createElement("span",{className:"actual__title-wrapper"},A(l.state),l.statenotes&&g.a.createElement("span",{onClick:M},g.a.createElement("span",{"data-tip":["".concat(l.statenotes)],"data-event":"touchstart mouseover","data-event-off":"mouseleave"},g.a.createElement(Ee.a,null)),g.a.createElement(Ne.a,{place:"right",type:"dark",effect:"solid",multiline:!0,scrollHide:!0,globalEventOff:"click"}))))),g.a.createElement("td",null,g.a.createElement("span",{className:"deltas",style:{color:"#ff073a"}},l.deltaconfirmed>0&&g.a.createElement(ye.a,null),l.deltaconfirmed>0?"".concat(l.deltaconfirmed):""),g.a.createElement("span",{className:"table__count-text"},0===parseInt(l.confirmed)?"-":H(l.confirmed))),g.a.createElement("td",{style:{color:0===parseInt(l.active)?"#B5B5B5":"inherit"}},0===parseInt(l.active)?"-":H(l.active)),g.a.createElement("td",{style:{color:0===parseInt(l.recovered)?"#B5B5B5":"inherit"}},g.a.createElement("span",{className:"deltas",style:{color:"#28a745"}},l.deltarecovered>0&&g.a.createElement(ye.a,null),l.deltarecovered>0?"".concat(l.deltarecovered):""),g.a.createElement("span",{className:"table__count-text"},0===parseInt(l.recovered)?"-":H(l.recovered))),g.a.createElement("td",{style:{color:0===parseInt(l.deaths)?"#B5B5B5":"inherit"}},g.a.createElement("span",{className:"deltas",style:{color:"#6c757d"}},l.deltadeaths>0&&g.a.createElement(ye.a,null),l.deltadeaths>0?"".concat(l.deltadeaths):""),g.a.createElement("span",{className:"table__count-text"},0===parseInt(l.deaths)?"-":H(l.deaths)))),y&&g.a.createElement(g.a.Fragment,null,g.a.createElement("tr",{className:"state-last-update"},g.a.createElement("td",{colSpan:2},g.a.createElement("div",{className:"last-update"},g.a.createElement("h6",null,t("Last updated"),"\xa0"),g.a.createElement("h6",{title:isNaN(Date.parse(L(e.state.lastupdatedtime)))?"":R(e.state.lastupdatedtime)},isNaN(Date.parse(L(e.state.lastupdatedtime)))?"":"".concat(Object(oe.a)(new Date(L(e.state.lastupdatedtime)),new Date)," ago"))))),g.a.createElement("tr",{className:"district-heading"},g.a.createElement("td",{onClick:function(e){return D("district")}},g.a.createElement("div",{className:"heading-content"},g.a.createElement("abbr",{title:"District"},t("District")),g.a.createElement("div",{style:{display:"district"===w.sortColumn?"initial":"none"}},w.isAscending?g.a.createElement("div",{className:"arrow-up"}):g.a.createElement("div",{className:"arrow-down"})))),g.a.createElement("td",{onClick:function(e){return D("confirmed")}},g.a.createElement("div",{className:"heading-content"},g.a.createElement("abbr",{className:"".concat(window.innerWidth<=769?"is-cherry":""),title:"Confirmed"},window.innerWidth<=769?window.innerWidth<=375?t("confirmed.shorter"):t("confirmed.short"):t("confirmed.full")),g.a.createElement("div",{style:{display:"confirmed"===w.sortColumn?"initial":"none"}},w.isAscending?g.a.createElement("div",{className:"arrow-up"}):g.a.createElement("div",{className:"arrow-down"})))),g.a.createElement("td",{className:"state-page-link",colSpan:3},g.a.createElement(ue.b,{to:"state/".concat(l.statecode)},g.a.createElement("div",null,g.a.createElement("abbr",null,t("Visit state page")),g.a.createElement(me.a,null)))))),p&&y&&Object.keys(p).filter((function(e){return"unknown"!==e.toLowerCase()})).map((function(t,a){return"unknown"!==t.toLowerCase()?g.a.createElement("tr",{key:a,className:"district ".concat(a%2===0?"is-odd":""," ").concat(e.highlightedDistrict===t?"is-highlighted":""),style:{background:a%2===0?"#f8f9fa":""},onMouseEnter:function(){var a;return null===(a=e.onHighlightDistrict)||void 0===a?void 0:a.call(e,t,l,e.index)},onMouseLeave:function(){var t;return null===(t=e.onHighlightDistrict)||void 0===t?void 0:t.call(e)}},g.a.createElement("td",{className:"unknown",style:{fontWeight:600}},t,g.a.createElement("span",{onClick:M},g.a.createElement("span",{"data-for":"unknown","data-tip":[[p[t].notes]],"data-event":"touchstart mouseover","data-event-off":"mouseleave"},p[t].notes&&g.a.createElement(Ee.a,null)))),g.a.createElement("td",null,g.a.createElement("span",{className:"deltas",style:{color:"#ff073a"}},p[t].delta.confirmed>0&&g.a.createElement(ye.a,null),p[t].delta.confirmed>0?"".concat(p[t].delta.confirmed):""),g.a.createElement("span",{className:"table__count-text"},H(p[t].confirmed)))):null})),(null===p||void 0===p?void 0:p.Unknown)&&y&&g.a.createElement(g.a.Fragment,null,g.a.createElement("tr",{className:"district"},g.a.createElement("td",{className:"unknown",style:{fontWeight:600}},"Unknown",g.a.createElement("span",{onClick:M},g.a.createElement("span",{"data-for":"unknown","data-tip":"Awaiting patient-level details from State Bulletin","data-event":"touchstart mouseover","data-event-off":"mouseleave"},g.a.createElement(Ee.a,null)))),g.a.createElement("td",null,g.a.createElement("span",{className:"deltas",style:{color:"#ff073a"}},p.Unknown.delta.confirmed>0&&g.a.createElement(ye.a,null),p.Unknown.delta.confirmed>0?"".concat(p.Unknown.delta.confirmed):""),g.a.createElement("span",{className:"table__count-text"},H(p.Unknown.confirmed))))),y&&g.a.createElement(g.a.Fragment,null,g.a.createElement("tr",null,g.a.createElement("td",{colSpan:2},g.a.createElement("span",{className:"unknown"},g.a.createElement(Ne.a,{id:"unknown",place:"right",type:"dark",effect:"solid",multiline:!0,scrollHide:!0,globalEventOff:"click"}))))),g.a.createElement("tr",{className:"spacer",style:{display:e.reveal&&!e.total?"":"none"}},g.a.createElement("td",null),g.a.createElement("td",null),g.a.createElement("td",null)))}));var Oe=g.a.memo((function(e){var t=Object(c.b)().t,a=Object(v.useState)(e.states),r=Object(n.a)(a,2),l=r[0],i=r[1],s=Object(v.useState)({}),o=Object(n.a)(s,2),d=o[0],m=o[1],u=Object(v.useState)({}),f=Object(n.a)(u,2),p=f[0],h=f[1],b=Object(v.useState)(0),E=Object(n.a)(b,2),N=E[0],j=E[1],O=Object(v.useState)({sortColumn:localStorage.getItem("state.sortColumn")?localStorage.getItem("state.sortColumn"):"confirmed",isAscending:!!localStorage.getItem("state.isAscending")&&"true"===localStorage.getItem("state.isAscending")}),w=Object(n.a)(O,2),k=w[0],M=w[1];Object(v.useEffect)((function(){!0===e.summary?i(e.states.slice(0,9)):i(e.states)}),[e.states,e.summary]),Object(v.useEffect)((function(){e.states[0]&&m(e.states.reduce((function(e,t){return Object(y.a)({},e,Object(ge.a)({},t.state,!1))}),{}))}),[e.states]),Object(v.useEffect)((function(){l.length>0&&j(l.slice(1).filter((function(e){return e&&e.confirmed>0})).length)}),[l]),Object(v.useEffect)((function(){h(e.stateDistrictWiseData)}),[e.stateDistrictWiseData]);var x=function(e,t){var a=e.currentTarget.querySelector("abbr").getAttribute("title").toLowerCase(),n=k.sortColumn===a?!k.isAscending:"state"===k.sortColumn;M({sortColumn:a,isAscending:n}),localStorage.setItem("state.sortColumn",a),localStorage.setItem("state.isAscending",n)},D=function(e){m(Object(y.a)({},d,Object(ge.a)({},e,!d[e])))};return function(e,t){var a=l.splice(0,1);l.sort((function(e,t){var a=k.sortColumn,n=e[a],c=t[a];return"state"!==a&&(n=parseInt(e[a]),c=parseInt(t[a])),k.isAscending?n>c||n===c&&e.state>t.state?1:-1:n<c||n===c&&e.state>t.state?1:-1})),l.unshift(a[0])}(),l.length>0?g.a.createElement(g.a.Fragment,null,g.a.createElement("h5",{className:"table-fineprint fadeInUp",style:{animationDelay:"1.5s"}},t("data compilation info")),g.a.createElement("table",{className:"table fadeInUp",style:{animationDelay:"1.8s"}},g.a.createElement("thead",null,g.a.createElement("tr",null,g.a.createElement("th",{className:"sticky state-heading",onClick:function(e){return x(e)}},g.a.createElement("div",{className:"heading-content"},g.a.createElement("abbr",{title:"State"},t("states")),g.a.createElement("div",{style:{display:"state"===k.sortColumn?"initial":"none"}},k.isAscending?g.a.createElement("div",{className:"arrow-up"}):g.a.createElement("div",{className:"arrow-down"})))),g.a.createElement("th",{className:"sticky",onClick:function(e){return x(e)}},g.a.createElement("div",{className:"heading-content"},g.a.createElement("abbr",{className:"".concat(window.innerWidth<=769?"is-cherry":""),title:"Confirmed"},window.innerWidth<=769?window.innerWidth<=375?t("confirmed.shorter"):t("confirmed.short"):t("confirmed.full")),g.a.createElement("div",{style:{display:"confirmed"===k.sortColumn?"initial":"none"}},k.isAscending?g.a.createElement("div",{className:"arrow-up"}):g.a.createElement("div",{className:"arrow-down"})))),g.a.createElement("th",{className:"sticky",onClick:function(e){return x(e)}},g.a.createElement("div",{className:"heading-content"},g.a.createElement("abbr",{className:"".concat(window.innerWidth<=769?"is-blue":""),title:"Active"},window.innerWidth<=769?window.innerWidth<=375?t("active.shorter"):t("active.short"):t("active.full")),g.a.createElement("div",{style:{display:"active"===k.sortColumn?"initial":"none"}},k.isAscending?g.a.createElement("div",{className:"arrow-up"}):g.a.createElement("div",{className:"arrow-down"})))),g.a.createElement("th",{className:"sticky",onClick:function(e){return x(e)}},g.a.createElement("div",{className:"heading-content"},g.a.createElement("abbr",{className:"".concat(window.innerWidth<=769?"is-green":""),title:"Recovered"},window.innerWidth<=769?window.innerWidth<=375?t("recovered.shorter"):t("recovered.short"):t("recovered.full")),g.a.createElement("div",{className:"recovered"===k.sortColumn?"sort-black":""}),g.a.createElement("div",{style:{display:"recovered"===k.sortColumn?"initial":"none"}},k.isAscending?g.a.createElement("div",{className:"arrow-up"}):g.a.createElement("div",{className:"arrow-down"})))),g.a.createElement("th",{className:"sticky",onClick:function(e){return x(e)}},g.a.createElement("div",{className:"heading-content"},g.a.createElement("abbr",{className:"".concat(window.innerWidth<=769?"is-gray":""),title:"Deaths"},window.innerWidth<=769?window.innerWidth<=375?t("deceased.shorter"):t("deceased.short"):t("deceased.full")),g.a.createElement("div",{style:{display:"deaths"===k.sortColumn?"initial":"none"}},k.isAscending?g.a.createElement("div",{className:"arrow-up"}):g.a.createElement("div",{className:"arrow-down"})))))),g.a.createElement("tbody",null,l.map((function(t,a){return 0!==a&&t.confirmed>0?g.a.createElement(je,{key:t.state,index:a,state:t,total:!1,reveal:d[t.state],districts:t.state in p?p[t.state].districtData:[],isHighlighted:!e.rowHighlighted.isDistrict&&e.rowHighlighted.statecode===t.statecode,highlightedDistrict:e.rowHighlighted.isDistrict&&e.rowHighlighted.statecode===t.statecode?e.rowHighlighted.districtName:null,onHighlightState:e.onHighlightState,onHighlightDistrict:e.onHighlightDistrict,handleReveal:D}):null}))),g.a.createElement("tbody",null,l.length>1&&!1===e.summary&&g.a.createElement(je,{key:0,state:l[0],total:!0,onHighlightState:e.onHighlightState}))),g.a.createElement("h5",{className:"table-fineprint fadeInUp",style:{animationDelay:"1s"}},t("States Affected",{count:N}))):g.a.createElement("div",{style:{height:"50rem"}})}),(function(e,t){return JSON.stringify(e.rowHighlighted)===JSON.stringify(t.rowHighlighted)})),we=a(252),ke=a(500),Me=a(237);var xe=g.a.memo((function(e){var t=Object(c.b)().t,a=Object(v.useState)(30),r=Object(n.a)(a,2),l=r[0],i=r[1],s=Object(v.useState)([]),o=Object(n.a)(s,2),d=o[0],m=o[1],u=Object(v.useState)({}),f=Object(n.a)(u,2),p=f[0],h=f[1],b=Object(v.useState)(0),y=Object(n.a)(b,2),N=y[0],j=y[1],O=Object(v.useState)(e.mode),w=Object(n.a)(O,2),k=w[0],M=w[1],x=Object(v.useState)(e.logMode),D=Object(n.a)(x,2),C=D[0],S=D[1],I=Object(v.useState)(e.type),A=Object(n.a)(I,2),T=A[0],F=A[1],L=Object(v.useState)(!1),R=Object(n.a)(L,2),U=R[0],W=R[1],_=Object(v.useRef)(),P=Object(v.useRef)(),z=Object(v.useRef)(),Y=Object(v.useRef)(),V=Object(v.useRef)(),J=function(e){var t=Object(v.useState)(null),a=Object(n.a)(t,2),c=a[0],r=a[1];return Object(v.useEffect)((function(){var t=e.current,a=new we.a((function(e,t){e.forEach((function(e,t){r(e.contentRect)}))}));return a.observe(t),function(){a.unobserve(t)}}),[e]),c}(V),G=Object(v.useCallback)((function(e){if(e.length>1){var t=function(e,t){return e.slice(-t)}(e,l);j(t.length-1),m(t)}}),[l]);Object(v.useEffect)((function(){G(e.timeseries)}),[l,G,e.timeseries]),Object(v.useEffect)((function(){M(e.mode)}),[e.mode]),Object(v.useEffect)((function(){S(e.logMode)}),[e.logMode]),Object(v.useEffect)((function(){F(e.type)}),[e.type]);var K=Object(v.useCallback)((function(e){if(J){var t=J.width,a=J.height,n=15,c=25,r=t-35,l=a-25,i=e.length;h(e[i-1]),j(i-1);var s,o=ae.H(_.current),d=ae.H(P.current),m=ae.H(z.current),u=ae.H(Y.current),f=Object(ke.a)(e[0].date,1),p=Object(Me.a)(e[i-1].date,1),v=ae.G().clamp(!0).domain([f,p]).range([c,r]),g=t<480?4:7,b=function(e){return e.attr("class","x-axis").call(ae.a(v).ticks(g))},y=function(e,t){e.attr("class","x-axis2").call(ae.a(v).tickValues([]).tickSize(0)).select(".domain").style("transform","translateY(".concat(t(0),"px)")),t(0)!==l?e.select(".domain").attr("opacity",.4):e.select(".domain").attr("opacity",0)},N=function(e,t){return e.attr("class","y-axis").call(ae.b(t).ticks(4,"0~s").tickPadding(5))},O=1===T,w=["totalconfirmed","totalactive","totalrecovered","totaldeceased"],M=["dailyconfirmed","dailyactive","dailyrecovered","dailydeceased"],x=["#ff073a","#007bff","#28a745","#6c757d","#201aa2"],D=[o,d,m,u];if(O){var S=ae.x(e,(function(e){return Math.min(e.totalactive,e.totalrecovered,e.totaldeceased)})),I=ae.w(e,(function(e){return e.totalconfirmed})),A=ae.D().clamp(!0).domain([S,Math.max(1,1.2*I)]).nice().range([l,n]),F=ae.E().clamp(!0).domain([Math.max(1,S),Math.max(10,1.2*I)]).nice().range([l,n]);s=w.map((function(t){var a=ae.D().clamp(!0).domain([ae.x(e,(function(e){return e[t]})),Math.max(1,1.2*ae.w(e,(function(e){return e[t]})))]).nice().range([l,n]),c=ae.E().clamp(!0).domain([Math.max(1,ae.x(e,(function(e){return e[t]}))),Math.max(10,1.2*ae.w(e,(function(e){return e[t]})))]).nice().range([l,n]);return k&&"totaltested"!==t?C?F:A:C?c:a}))}else{var L=ae.D().clamp(!0).domain([1.1*Math.min(0,ae.x(e,(function(e){return e.dailyactive}))),Math.max(1,1.2*ae.w(e,(function(e){return Math.max(e.dailyconfirmed,e.dailyrecovered,e.dailydeceased)})))]).nice().range([l,n]);s=M.map((function(t){return k?L:ae.D().clamp(!0).domain([1.1*Math.min(0,ae.x(e,(function(e){return e[t]}))),Math.max(1,1.2*ae.w(e,(function(e){return e[t]})))]).nice().range([l,n])}))}var R=D.map((function(t,a){return t.selectAll(".focus").data([e[i-1]],(function(e){return e.date})).join((function(e){return e.append("circle").attr("cx",(function(e){return v(e.date)}))})).attr("class","focus").attr("fill",x[a]).attr("stroke",x[a]).attr("r",4)}));D.forEach((function(t,a){var n=t.transition().duration(500),c=w[a],o=M[a],d=O?c:o,m=e.filter((function(e){return!isNaN(e[d])})),u=x[a],f=s[a];if(t.select(".x-axis").style("transform","translateY(".concat(l,"px)")).transition(n).call(b),t.select(".x-axis2").transition(n).call(y,f),t.select(".y-axis").style("transform","translateX(".concat(r,"px)")).transition(n).call(N,f),t.selectAll(".dot").data(m,(function(e){return e.date})).join((function(e){return e.append("circle").attr("cx",(function(e){return v(e.date)})).attr("cy",l)})).attr("class","dot").attr("fill",u).attr("stroke",u).attr("r",2).transition(n).attr("cx",(function(e){return v(e.date)})).attr("cy",(function(e){return f(e[d])})),isNaN(e[i-1][d])?R[a].transition(n).attr("opacity",0):R[a].transition(n).attr("cx",(function(e){return v(e.date)})).attr("cy",(function(e){return f(e[d])})).attr("opacity",1),O){t.selectAll(".stem").remove();var p=t.selectAll(".trend").data([Object(E.a)(m).reverse()]).join("path").attr("class","trend").attr("fill","none").attr("stroke",u+"99").attr("stroke-width",4);if(p.attr("d")){var h=p.node().getTotalLength(),g=p.node().getPointAtLength(h);p.attr("d",(function(){return p.attr("d")+"L".concat(g.x,",").concat(g.y).repeat(3*i)}))}p.transition(n).attr("opacity",O?1:0).attr("d",ae.v().x((function(e){return v(e.date)})).y((function(e){return f(e[c])})).curve(ae.f))}else t.selectAll(".trend").remove(),t.selectAll(".stem").data(e,(function(e){return e.date})).join((function(e){return e.append("line").attr("x1",(function(e){return v(e.date)})).attr("x2",(function(e){return v(e.date)})).attr("y1",l).attr("y2",l)})).attr("class","stem").style("stroke",u+"99").style("stroke-width",4).transition(n).attr("y1",f(0)).attr("x1",(function(e){return v(e.date)})).attr("x2",(function(e){return v(e.date)})).attr("y2",(function(e){return f(e[o])}));t.on("mousemove",U).on("touchmove",U).on("mouseout",H).on("touchend",H)}))}function U(){var t=ae.y(this)[0],a=v.invert(t),n=(0,ae.c((function(e){return e.date})).left)(e,a,1);if(0<=n&&n<i){a-e[n-1].date<e[n].date-a&&--n,h(e[n]),j(n),W(!0);var c=e[n];R.forEach((function(e,t){var a=s[t],n=O?w[t]:M[t];isNaN(c[n])?e.attr("opacity",0):e.attr("cx",v(c.date)).attr("cy",a(c[n])).attr("opacity",1)}))}}function H(){h(e[i-1]),j(i-1),W(!1),R.forEach((function(t,a){var n=s[a],c=O?w[a]:M[a];isNaN(e[i-1][c])?t.attr("opacity",0):t.attr("cx",v(e[i-1].date)).attr("cy",n(e[i-1][c])).attr("opacity",1)}))}}),[J,T,C,k]);Object(v.useEffect)((function(){d.length>1&&K(d)}),[d,K]);var q=p.date?Object(B.a)(p.date,"dd MMMM"):"",X=1===T?"totalconfirmed":"dailyconfirmed",Z=1===T?"totalactive":"dailyactive",$=1===T?"totalrecovered":"dailyrecovered",Q=1===T?"totaldeceased":"dailydeceased",ee=function(e){if(d.length<=0||N<=0||N>=d.length)return"";var t=d[N][e]-d[N-1][e],a=H(t);return t>=0?"+".concat(a):a};return g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:"TimeSeries fadeInUp",style:{animationDelay:"2.7s"}},g.a.createElement("div",{className:"svg-parent",ref:V},g.a.createElement("div",{className:"stats"},g.a.createElement("h5",{className:"".concat(U?"":"title")},t("confirmed.full")),g.a.createElement("h5",{className:"".concat(U?"title":"")},"".concat(q)),g.a.createElement("div",{className:"stats-bottom"},g.a.createElement("h2",null,H(p[X])),g.a.createElement("h6",null,ee(X)))),g.a.createElement("svg",{ref:_,preserveAspectRatio:"xMidYMid meet"},g.a.createElement("g",{className:"x-axis"}),g.a.createElement("g",{className:"x-axis2"}),g.a.createElement("g",{className:"y-axis"}))),g.a.createElement("div",{className:"svg-parent is-blue"},g.a.createElement("div",{className:"stats is-blue"},g.a.createElement("h5",{className:"".concat(U?"":"title")},t("active.full")),g.a.createElement("h5",{className:"".concat(U?"title":"")},"".concat(q)),g.a.createElement("div",{className:"stats-bottom"},g.a.createElement("h2",null,H(p[Z])),g.a.createElement("h6",null,ee(Z)))),g.a.createElement("svg",{ref:P,preserveAspectRatio:"xMidYMid meet"},g.a.createElement("g",{className:"x-axis"}),g.a.createElement("g",{className:"x-axis2"}),g.a.createElement("g",{className:"y-axis"}))),g.a.createElement("div",{className:"svg-parent is-green"},g.a.createElement("div",{className:"stats is-green"},g.a.createElement("h5",{className:"".concat(U?"":"title")},t("recovered.full")),g.a.createElement("h5",{className:"".concat(U?"title":"")},"".concat(q)),g.a.createElement("div",{className:"stats-bottom"},g.a.createElement("h2",null,H(p[$])),g.a.createElement("h6",null,ee($)))),g.a.createElement("svg",{ref:z,preserveAspectRatio:"xMidYMid meet"},g.a.createElement("g",{className:"x-axis"}),g.a.createElement("g",{className:"x-axis2"}),g.a.createElement("g",{className:"y-axis"}))),g.a.createElement("div",{className:"svg-parent is-gray"},g.a.createElement("div",{className:"stats is-gray"},g.a.createElement("h5",{className:"".concat(U?"":"title")},t("deceased.full")),g.a.createElement("h5",{className:"".concat(U?"title":"")},"".concat(q)),g.a.createElement("div",{className:"stats-bottom"},g.a.createElement("h2",null,H(p[Q])),g.a.createElement("h6",null,ee(Q)))),g.a.createElement("svg",{ref:Y,preserveAspectRatio:"xMidYMid meet"},g.a.createElement("g",{className:"x-axis"}),g.a.createElement("g",{className:"x-axis2"}),g.a.createElement("g",{className:"y-axis"})))),g.a.createElement("div",{className:"pills"},g.a.createElement("button",{type:"button",onClick:function(){return i(1/0)},className:l===1/0?"selected":""},t("Beginning")),g.a.createElement("button",{type:"button",onClick:function(){return i(30)},className:30===l?"selected":"","aria-label":t("1 month")},t("1 Month")),g.a.createElement("button",{type:"button",onClick:function(){return i(14)},className:14===l?"selected":"","aria-label":t("14 days")},t("2 Weeks"))))}));var De=g.a.memo((function(e){var t=e.timeseries,a=e.activeStateCode,r=e.onHighlightState,l=e.states,i=e.anchor,s=e.setAnchor,o=Object(c.b)().t,d=Object(fe.a)("timeseriesGraphOption",1),m=Object(n.a)(d,2),u=m[0],f=m[1],p=Object(fe.a)("timeseriesMode",!0),h=Object(n.a)(p,2),v=h[0],b=h[1],E=Object(fe.a)("timeseriesLogMode",!1),y=Object(n.a)(E,2),N=y[0],j=y[1];return g.a.createElement("div",{className:"TimeSeriesExplorer ".concat("timeseries"===i?"stickied":""),style:{display:"mapexplorer"===i?"none":""}},g.a.createElement("div",{className:"timeseries-header fadeInUp",style:{animationDelay:"2.5s"}},window.innerWidth>769&&void 0!==i&&g.a.createElement("div",{className:"anchor ".concat("timeseries"===i?"stickied":""),onClick:function(){s("timeseries"===i?null:"timeseries")}},g.a.createElement(de.a,null)),g.a.createElement("h1",null,o("Spread Trends")),g.a.createElement("div",{className:"tabs"},g.a.createElement("div",{className:"tab ".concat(1===u?"focused":""),onClick:function(){f(1)}},g.a.createElement("h4",null,o("Cumulative"))),g.a.createElement("div",{className:"tab ".concat(2===u?"focused":""),onClick:function(){f(2)}},g.a.createElement("h4",null,o("Daily")))),g.a.createElement("div",{className:"scale-modes"},g.a.createElement("label",{className:"main"},o("Scale Modes")),g.a.createElement("div",{className:"timeseries-mode"},g.a.createElement("label",{htmlFor:"timeseries-mode"},o("chart.mode.uniform")),g.a.createElement("input",{id:"timeseries-mode",type:"checkbox",checked:v,className:"switch","aria-label":"Checked by default to scale uniformly.",onChange:function(e){b(!v)}})),g.a.createElement("div",{className:"timeseries-logmode ".concat(1!==u?"disabled":"")},g.a.createElement("label",{htmlFor:"timeseries-logmode"},o("chart.mode.logarithmic")),g.a.createElement("input",{id:"timeseries-logmode",type:"checkbox",checked:1===u&&N,className:"switch",disabled:1!==u,onChange:function(e){j(!N)}}))),l&&g.a.createElement("div",{className:"trends-state-name"},g.a.createElement("select",{value:a,onChange:function(e){var t=e.target.selectedOptions[0].getAttribute("statedata");r(JSON.parse(t))}},l.map((function(e){return g.a.createElement("option",{value:e.statecode,key:e.statecode,statedata:JSON.stringify(e)},"TT"===e.statecode?o("All States"):A(e.state))}))))),g.a.createElement(xe,{timeseries:t,type:u,mode:v,logMode:N,isTotal:"TT"===a}))})),Ce=new Date,Se=Ce;var Ie=function(e){var t=Object(v.useState)([]),a=Object(n.a)(t,2),c=a[0],r=a[1];return Object(ee.a)((function(){K.a.get("https://thantthet.github.io/covid19-api/updatelog/log.json").then((function(e){r(e.data)})).catch((function(e){console.log(e)}))})),Object(v.useLayoutEffect)((function(){Se=Ce})),g.a.createElement("div",{className:"updates"},g.a.createElement("div",{className:"updates-header"},g.a.createElement("h2",null,Object(B.a)(Se,"d MMM"))),c.slice(-5).reverse().map((function(e,t){e.update=e.update.replaceAll("\n","<br/>");var a=new Date(1e3*e.timestamp);return g.a.createElement(g.a.Fragment,{key:t},a.getDate()!==Se.getDate()?(Se=a,g.a.createElement(g.a.Fragment,null,0===t?g.a.createElement("div",{className:"update"},g.a.createElement("h4",null,"No updates yet!")):"",g.a.createElement("div",{className:"updates-header"},g.a.createElement("h2",null,Object(B.a)(a,"d MMM"))))):" ",g.a.createElement("div",{key:t,className:"update"},g.a.createElement("h5",null,Object(oe.a)(new Date(1e3*e.timestamp),new Date)+" ago"),g.a.createElement("h4",{dangerouslySetInnerHTML:{__html:e.update}})))})))},Ae=a(502),Te=a(503),Fe=a(501);var Le=g.a.memo((function(e){var t=Object(v.useState)([]),a=Object(n.a)(t,2),c=a[0],r=a[1],s=Object(v.useState)({}),o=Object(n.a)(s,2),d=o[0],m=o[1],u=Object(v.useState)(""),f=Object(n.a)(u,2),p=f[0],h=f[1],b=Object(v.useState)({}),E=Object(n.a)(b,2),y=E[0],N=E[1],j=Object(v.useState)(!1),w=Object(n.a)(j,2),k=w[0],M=w[1],x=Object(v.useState)("TT"),D=Object(n.a)(x,2),C=D[0],S=D[1],I=Object(v.useState)(void 0),A=Object(n.a)(I,2),T=A[0],F=A[1],H=Object(v.useState)({statecode:void 0,isDistrict:!1,districtName:void 0}),_=Object(n.a)(H,2),B=_[0],P=_[1],z=Object(v.useState)(!1),Y=Object(n.a)(z,2),V=Y[0],J=Y[1],G=Object(v.useState)(null),X=Object(n.a)(G,2),Z=X[0],$=X[1],ae=Object(fe.a)("lastViewedLog",null),ne=Object(n.a)(ae,2),ce=ne[0],re=ne[1],le=Object(fe.a)("newUpdate",!1),ie=Object(n.a)(le,2),se=ie[0],oe=ie[1];Object(Fe.a)(se?"/icon_update.png":"/favicon.ico"),Object(ee.a)((function(){de()})),Object(ee.a)((function(){K.a.get("https://thantthet.github.io/covid19-api/updatelog/log.json").then((function(e){var t=e.data.slice().reverse()[0].timestamp.toString();t!==ce&&(oe(!0),re(t))})).catch((function(e){console.log(e)}))}));var de=function(){var e=Object(i.a)(l.a.mark((function e(){var t,a,c,i,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([K.a.get("https://thantthet.github.io/covid19-api/data.json"),K.a.get("https://thantthet.github.io/covid19-api/state_district_wise.json"),K.a.get("https://thantthet.github.io/covid19-api/states_daily.json")]);case 3:t=e.sent,a=Object(n.a)(t,3),c=a[0].data,i=a[1],s=a[2].data,r(c.statewise),(o=W(s)).TT=U(c.cases_time_series),N(o),h(c.statewise[0].lastupdatedtime),m(i.data),M(!0),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),me=function(e,t){if(!e&&!t)return F(null);F({state:e,index:t})},ue=Object(v.useCallback)((function(e){S(e.statecode),P("districtName"in e?{statecode:e.statecode,isDistrict:!0,districtName:e.districtName}:{statecode:e.statecode,isDistrict:!1,districtName:void 0})}),[]);return g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:"Home"},g.a.createElement(q.a,null,g.a.createElement("title",null,"Coronavirus Outbreak in Myanmar - covid19.ttkz.me"),g.a.createElement("meta",{name:"title",content:"Coronavirus Outbreak in Myanmar: Latest Map and Case Count"})),g.a.createElement("div",{className:"home-left"},g.a.createElement("div",{className:"header fadeInUp",style:{animationDelay:"1s"}},g.a.createElement("div",{className:"actions"},g.a.createElement("h5",null,isNaN(Date.parse(L(p)))?"":R(p)),!V&&g.a.createElement("div",{className:"bell-icon"},k&&g.a.createElement(Ae.a,{onClick:function(){J(!V),oe(!1)}}),se&&g.a.createElement("div",{className:"indicator"})),V&&g.a.createElement(Te.a,{onClick:function(){J(!V)}}))),V&&g.a.createElement(Ie,null),k&&g.a.createElement(te,{data:c[0]}),k&&g.a.createElement(ve,{timeseries:y.TT}),k&&g.a.createElement(Oe,{states:c,summary:!1,stateDistrictWiseData:d,rowHighlighted:B,onHighlightState:me,onHighlightDistrict:function(e,t,a){if(!t&&!a&&!e)return F(null);F({district:e,state:t,index:a})}})),g.a.createElement("div",{className:"home-right"},k&&g.a.createElement(g.a.Fragment,null,g.a.createElement(he,{mapMeta:O.Myanmar,states:c,stateDistrictWiseData:d,regionHighlighted:T,onMapHighlightChange:ue,isCountryLoaded:!0,anchor:Z,setAnchor:$}),k&&g.a.createElement(De,{timeseries:y[C],activeStateCode:C,onHighlightState:me,states:c,anchor:Z,setAnchor:$})))),k&&g.a.createElement(Q,null))})),Re=a(42),Ue=a(505),He=a(506),We=a(507),_e=a(508),Be=a(509),Pe=a(504),ze=a(520),Ye=a(238);function Ve(){var e=Object(c.b)(),t=e.i18n,a=e.t;return g.a.createElement("div",{className:"language-switcher select"},g.a.createElement("select",{onChange:function(e){t.changeLanguage(e.target.value)},"aria-label":a("Select Language"),value:t.language},Object.entries(Ye).map((function(e){var t=Object(n.a)(e,2),a=t[0],c=t[1];return g.a.createElement("option",{key:a,value:a},c)}))))}var Je=function(e){return{style:{stroke:window.location.pathname===e?"#4c75f2":""}}};function Ge(e){e.expand;var t=e.pages,a=e.setExpand,n=Object(v.useRef)(null);return Object(ee.a)((function(){Object(Re.a)({targets:n.current,translateX:"10rem",easing:"easeOutExpo",duration:250})})),g.a.createElement("div",{className:"expand",ref:n,onMouseLeave:function(){a(!1)}},t.map((function(e,t){return!0===e.showInNavbar?g.a.createElement(ue.b,{to:e.pageLink,key:t,onClick:function(){a(!1)}},g.a.createElement("span",(n=e.pageLink,c=e.animationDelayForNavbar,{className:"fadeInUp ".concat(window.location.pathname===n?"focused":""),style:{animationDelay:"".concat(c,"s")}}),e.displayName)):null;var n,c})),g.a.createElement("div",{className:"expand-language fadeInUp",style:{animationDelay:"0.6s"}},g.a.createElement("h5",null,"Change Language"),g.a.createElement(Ve,null)),g.a.createElement("div",{className:"expand-bottom fadeInUp",style:{animationDelay:"0.7s"}},g.a.createElement("h5",null,"A crowdsourced initiative.")))}var Ke=function(e){var t=e.pages,a=e.darkMode,r=e.setDarkMode,l=Object(c.b)().t,i=Object(v.useState)(!1),s=Object(n.a)(i,2),o=s[0],d=s[1],m=Object(fe.a)("isThemeSet",!1),u=Object(n.a)(m,2),f=(u[0],u[1]);Object(Pe.a)(o);var p=Object(ze.a)();return g.a.createElement("div",{className:"Navbar"},g.a.createElement("div",{className:"navbar-left",onClick:function(){r((function(e){return!e})),f(!0)}},a?g.a.createElement(Ue.a,{color:"#ffc107"}):g.a.createElement(He.a,null)),g.a.createElement("div",{className:"navbar-middle"},g.a.createElement(ue.b,{to:"/",onClick:function(){d(!1)}},"Covid19",g.a.createElement("span",null,"Myanmar"))),g.a.createElement("div",{className:"navbar-right",onClick:function(){d(!o)},onMouseEnter:function(){window.innerWidth>769&&(d(!0),Object(Re.a)({targets:".navbar-right path",strokeDashoffset:[Re.a.setDashoffset,0],easing:"easeInOutSine",duration:250,delay:function(e,t){return 250*t},direction:"alternate",loop:!1}))}},p.width<769&&g.a.createElement("span",null,l(o?"Close":"Menu")),p.width>769&&g.a.createElement(g.a.Fragment,null,g.a.createElement("span",null,g.a.createElement(ue.b,{to:"/"},g.a.createElement(We.a,Je("/")))),g.a.createElement("span",null,g.a.createElement(ue.b,{to:"/demographics"},g.a.createElement(_e.a,Je("/demographics")))),g.a.createElement("span",null,g.a.createElement(ue.b,{to:"/deepdive"},g.a.createElement(Be.a,Je("/deepdive")))))),o&&g.a.createElement(Ge,{expand:o,pages:t,setExpand:d}))},qe=a(510);var Xe=g.a.memo((function(e){return g.a.createElement("div",{className:"DownloadBlock fadeInUp",style:{animationDelay:"0.5s"}},g.a.createElement("a",{className:"button",target:"_noblank",href:"https://raw.githubusercontent.com/thantthet/covid19-api/gh-pages/raw_data.json"},g.a.createElement(qe.a,null)," ",g.a.createElement("span",null,"JSON")),g.a.createElement("a",{className:"button",target:"_noblank",href:"https://raw.githubusercontent.com/thantthet/covid19-api/gh-pages/csv/latest/raw_data.csv"},g.a.createElement(qe.a,null)," ",g.a.createElement("span",null,"CSV")))}),(function(){return!0}));var Ze=function(e){var t=e.logs,a=e.summary,n=e.setModal,c=e.setPatient,r=e.expand,l=e.applyClass;return g.a.createElement("div",{className:"Patients fadeInUp",style:{animationDelay:"1s"}},Object.keys(t).slice(a?-1:0).map((function(e,i){return"Invalid Date"!==e?g.a.createElement(g.a.Fragment,{key:i},g.a.createElement("h5",{className:"daylabel"},Object(B.a)(new Date(e),"dd MMM, yyyy")," ","("+t[e].length+")"),g.a.createElement("div",{key:i,className:"day ".concat(a?"summary":"")},t[e].slice(a?-40:0).map((function(e,t){return g.a.createElement("div",{key:t,className:l(e),onClick:function(){n(!0),c(e)}},g.a.createElement("h3",null,r?"P".concat(e.patientnumber):""))})))):null})))},$e=a(511);var Qe=function(e){var t=Object(c.b)().t,a=Object(v.useState)(e.patients),r=Object(n.a)(a,2),l=r[0],i=r[1],s=Object(v.useState)(e.patients.slice(-1)),o=Object(n.a)(s,2),d=o[0],m=o[1],u=Object(v.useState)({}),f=Object(n.a)(u,2),p=f[0],h=f[1],b=Object(v.useState)(!1),E=Object(n.a)(b,2),y=E[0],N=E[1];window.onclick=function(e){var t=document.getElementById("modal");e.target===t&&N(!1)},Object(v.useEffect)((function(){i(e.patients)}),[e.patients]);var j=Object(v.useCallback)((function(e){for(var t={},a=0;a<e.length;a++){var n=new Date(Object(D.a)(e[a].dateannounced,"dd/MM/yyyy",new Date));if(n in t){var c=t[n];c.push(e[a]),t[n]=c}else{var r=[];r.push(e[a]),t[n]=r}}h(t)}),[]);return Object(v.useEffect)((function(){l.length&&j(l)}),[j,l]),g.a.createElement(g.a.Fragment,null,g.a.createElement(Ze,{logs:p,setModal:N,setPatient:m,expand:e.expand,applyClass:function(t){switch(t){case"genders":return function(t){return"patient-card ".concat("F"===t.gender?"is-femme":"M"===t.gender?"is-male":""," ").concat(e.expand?"":"is-small")};case"transmission":return function(t){return"patient-card ".concat("Local"===t.typeoftransmission?"is-local":"Imported"===t.typeoftransmission?"is-imported":""," ").concat(e.expand?"":"is-small")};case"nationality":return function(t){return"patient-card ".concat("myanmar"===t.nationality?"is-mm":"french"===t.nationality?"is-fr":"swiz"===t.nationality?"is-ch":"american"===t.nationality?"is-us":""," ").concat(e.expand?"":"is-small")};case"age":default:return function(t){return"patient-card ".concat(e.expand?"":"is-small")}}}(e.colorMode)}),y&&g.a.createElement("div",{className:"modal",id:"modal"},g.a.createElement("div",{className:"modal-content ".concat(y?"fadeInUp":"fadeOutDown")},g.a.createElement("div",{className:"close-button"},g.a.createElement($e.a,{onClick:function(){N(!1)}})),g.a.createElement("div",{className:"modal-top"},g.a.createElement("h1",null,"#",d.patientnumber)),g.a.createElement("div",{className:"meta"},g.a.createElement("h5",null,t("Date Announced")),g.a.createElement("h3",null,d.dateannounced?d.dateannounced:"?"),g.a.createElement("h5",null,t("Contracted from")),g.a.createElement("h3",{className:"contracted-from"},d.contractedfromwhichpatientsuspected?d.contractedfromwhichpatientsuspected.split(",").map((function(e,t){return g.a.createElement("span",{key:t,onClick:function(){return function(e){if(""!==e)try{l.map((function(t,a){+t.patientnumber===+e&&m(t)}))}catch(t){console.log(t)}}(e)}},e,",")})):"?"),g.a.createElement("h5",null,t("Detected City")),g.a.createElement("h3",null,d.detectedcity?d.detectedcity:"?"),g.a.createElement("h5",null,t("Detected District")),g.a.createElement("h3",null,d.detecteddistrict?d.detecteddistrict:"?"),g.a.createElement("h5",null,t("Detected State")),g.a.createElement("h3",null,d.detectedstate?d.detectedstate:"?"),g.a.createElement("h5",null,t("Nationality")),g.a.createElement("h3",null,d.nationality?d.nationality:"?"),g.a.createElement("h5",null,t("Age")),g.a.createElement("h3",null,d.agebracket?d.agebracket:"?"),g.a.createElement("h5",null,t("Gender")),g.a.createElement("h3",null,d.gender?d.gender:"?"),g.a.createElement("h5",null,t("Type of transmission")),g.a.createElement("h3",null,d.typeoftransmission?d.typeoftransmission:"?")),g.a.createElement("div",{className:"notes"},g.a.createElement("h5",null,t("Notes")),g.a.createElement("h3",null,d.notes)),g.a.createElement("h5",null,t("Source 1")),g.a.createElement("div",{className:"link"},g.a.createElement("a",{href:d.source1,target:"_noblank"},d.source1)),g.a.createElement("h5",null,t("Source 2")),g.a.createElement("div",{className:"link"},g.a.createElement("a",{href:d.source2,target:"_noblank"},d.source2)),g.a.createElement("h5",null,t("Source 3")),g.a.createElement("div",{className:"link"},g.a.createElement("a",{href:d.source3,target:"_noblank"},d.source3)))))},et=a(239),tt=a.n(et),at=a(512),nt=a(56);function ct(e,t){var a=Object.keys(t);return e.filter((function(e){return a.every((function(a){return!t[a].length||e[a]===t[a]}))}))}var rt=function(e){var t=Object(c.b)().t,a=Object(v.useState)(!1),r=Object(n.a)(a,2),l=r[0],i=r[1],s=Object(v.useState)([]),o=Object(n.a)(s,2),d=o[0],m=o[1],u=Object(v.useState)([]),f=Object(n.a)(u,2),p=f[0],h=f[1],b=Object(nt.g)().pathname,E=Object(v.useState)("genders"),N=Object(n.a)(E,2),j=N[0],O=N[1],w=Object(v.useState)(!1),k=Object(n.a)(w,2),M=k[0],x=k[1],D=Object(v.useState)(Object(ke.a)(new Date,1)),C=Object(n.a)(D,2),S=C[0],I=C[1],A=Object(fe.a)("showReminder",!0),T=Object(n.a)(A,2),F=T[0],L=T[1],R=Object(v.useState)(!1),U=Object(n.a)(R,2),H=U[0],W=U[1],_=Object(v.useState)(!0),P=Object(n.a)(_,2),z=P[0],Y=P[1],V=Object(v.useState)({detectedstate:"",detecteddistrict:"",detectedcity:"",dateannounced:Object(B.a)(Object(ke.a)(new Date,1),"dd/MM/yyyy")}),J=Object(n.a)(V,2),G=J[0],X=J[1];Object(v.useEffect)((function(){window.scrollTo(0,0)}),[b]),Object(ee.a)((function(){try{K.a.get("https://thantthet.github.io/covid19-api/raw_data.json").then((function(e){m(e.data.raw_data.reverse()),i(!0)}))}catch(e){console.log(e)}})),Object(v.useEffect)((function(){document.querySelectorAll(".react-date-picker__inputGroup input").forEach((function(e){return e.setAttribute("readOnly",!0)}))}),[]);var Z=function(e,t){X((function(a){var n=Object(y.a)({},a);if(n[e]=t,"detectedstate"===e){var c=document.getElementById("district"),r=document.getElementById("city");c.style.display=""===t?"none":"inline",r.style.display="none",c.selectedIndex=0,r.selectedIndex=0,n.detecteddistrict="",n.detectedcity=""}else if("detecteddistrict"===e){var l=document.getElementById("city");l.style.display=""===t?"none":"inline",l.selectedIndex=0,n.detectedcity=""}return n}))};function $(e,t){var a=new Set(e.map((function(e){return e[t]})));return a.size>1&&a.add(""),"dateannounced"===t?Array.from(a):Array.from(a).sort()}return Object(v.useEffect)((function(){ct(d,G).length>0?(h(ct(d,G)),W(!1),Y(!1)):W(!0)}),[d,G]),g.a.createElement("div",{className:"PatientsDB"},g.a.createElement(q.a,null,g.a.createElement("title",null,"Demographics - covid19.ttkz.me"),g.a.createElement("meta",{name:"title",content:"Demographics - covid19.ttkz.me"}),g.a.createElement("meta",{name:"description",content:"A demographical overview of the Myanmar population affected by the coronavirus."})),g.a.createElement("div",{className:"filters fadeInUp",style:{animationDelay:"0.2s"}},g.a.createElement("div",{className:"filters-left"},g.a.createElement("div",{className:"select"},g.a.createElement("select",{style:{animationDelay:"0.3s"},id:"state",onChange:function(e){Z("detectedstate",e.target.value)},defaultValue:G.detectedstate},g.a.createElement("option",{value:"",disabled:!0,selected:!0},t("Select State")),$(d,"detectedstate").map((function(e,a){return g.a.createElement("option",{key:a,value:e},t(""===e?"All":"statenames.".concat(e.toLowerCase())))})))),g.a.createElement("div",{className:"select"},g.a.createElement("select",{style:{animationDelay:"0.4s",display:"none"},id:"district",onChange:function(e){Z("detecteddistrict",e.target.value)},defaultValue:G.detecteddistrict},g.a.createElement("option",{value:"",disabled:!0},"Select District"),$(ct(d,{detectedstate:G.detectedstate}),"detecteddistrict").map((function(e,a){return g.a.createElement("option",{key:a,value:e},""===e?t("All"):e)})))),g.a.createElement("div",{className:"select"},g.a.createElement("select",{style:{animationDelay:"0.4s",display:"none"},id:"city",onChange:function(e){Z("detectedcity",e.target.value)},defaultValue:G.detectedcity},g.a.createElement("option",{value:"",disabled:!0},"Select City"),$(ct(d,{detectedstate:G.detectedstate,detecteddistrict:G.detecteddistrict}),"detectedcity").map((function(e,a){return g.a.createElement("option",{key:a,value:e},""===e?t("All"):e)})))),g.a.createElement("div",{className:"select"},g.a.createElement("select",{style:{animationDelay:"0.4s",display:"none"},id:"city",onChange:function(e){Z("detectedcity",e.target.value)},defaultValue:G.detectedcity},g.a.createElement("option",{value:"",disabled:!0},"Select City"),$(ct(d,{detectedstate:G.detectedstate,detecteddistrict:G.detecteddistrict}),"detectedcity").map((function(e,t){return g.a.createElement("option",{key:t,value:e},""===e?"All":e)})))),g.a.createElement("div",{className:"select"},g.a.createElement(tt.a,{value:S,minDate:new Date("22-Mar-2020"),maxDate:Object(ke.a)(new Date,1),format:"dd/MM/y",calendarIcon:g.a.createElement(at.a,null),inputProps:onkeydown=function(e){e.preventDefault()},clearIcon:g.a.createElement($e.a,null),onChange:function(e){I(e);var t=e?Object(B.a)(e,"dd/MM/yyyy"):"";Z("dateannounced",t)}}))),g.a.createElement("div",{className:"legend"},"genders"===j&&g.a.createElement("div",{className:"legend-left"},g.a.createElement("div",{className:"circle is-female"}),g.a.createElement("h5",{className:"is-female"},t("Female")),g.a.createElement("div",{className:"circle is-male"}),g.a.createElement("h5",{className:"is-male"},t("Male")),g.a.createElement("div",{className:"circle"}),g.a.createElement("h5",{className:""},t("Unknown"))),"transmission"===j&&g.a.createElement("div",{className:"legend-left"},g.a.createElement("div",{className:"circle is-local"}),g.a.createElement("h5",{className:"is-local"},t("Local")),g.a.createElement("div",{className:"circle is-imported"}),g.a.createElement("h5",{className:"is-imported"},t("Imported")),g.a.createElement("div",{className:"circle"}),g.a.createElement("h5",{className:""},t("Unknown"))),"nationality"===j&&g.a.createElement("div",{className:"legend-left nationality"},g.a.createElement("div",{className:"circle is-mm"}),g.a.createElement("h5",{className:"is-mm"},"Mm"),g.a.createElement("div",{className:"circle is-fr"}),g.a.createElement("h5",{className:"is-us"},"Fr"),g.a.createElement("div",{className:"circle is-ch"}),g.a.createElement("h5",{className:"is-us"},"Ch"),g.a.createElement("div",{className:"circle is-us"}),g.a.createElement("h5",{className:"is-us"},"Us")),g.a.createElement("div",{className:"select ".concat(j)},g.a.createElement("select",{style:{animationDelay:"0.4s"},onChange:function(e){O(e.target.value)},defaultValue:j},g.a.createElement("option",{value:"genders"},t("Genders")),g.a.createElement("option",{value:"transmission"},t("Transmission")),g.a.createElement("option",{value:"nationality"},t("Nationality")))))),g.a.createElement("div",{className:"header fadeInUp",style:{animationDelay:"0.3s"}},g.a.createElement("div",null,g.a.createElement("h1",null,t("demographics.title")),g.a.createElement("div",{className:"deep-dive"},g.a.createElement("h5",null,"Expand"),g.a.createElement("input",{type:"checkbox",checked:M,onChange:function(e){x(!M)},className:"switch"}))),g.a.createElement("h6",{className:"disclaimer"},t("demographics.disclaimer"))),g.a.createElement("div",{className:"reminder fadeInUp",style:{animationDelay:"1s",display:F?"":"none"}},g.a.createElement($e.a,{onClick:function(){L(!1)}}),g.a.createElement("p",null,t("demographics.reminder.line1"),g.a.createElement("br",null),g.a.createElement("br",null),t("demographics.reminder.line2"))),l&&g.a.createElement("div",{className:"patientdb-wrapper"},z?" ":H?g.a.createElement("div",{className:"no-result"},g.a.createElement("h5",null,"There were no new cases in",g.a.createElement("span",null,G.detectedcity.length>0?" ".concat(G.detectedcity,", "):"",G.detecteddistrict.length>0?" ".concat(G.detecteddistrict,", "):""," "+G.detectedstate)," ","on ",g.a.createElement("span",null,G.dateannounced,"."))):g.a.createElement(Qe,{patients:p,colorMode:j,expand:M})),g.a.createElement(Xe,{patients:d}),g.a.createElement(Q,null))},lt=a(55),it=a.n(lt),st=a(251);var ot=g.a.memo((function(e){var t=e.stateCode,a=Object(v.useState)(!1),c=Object(n.a)(a,2),r=c[0],s=c[1],o=Object(v.useState)([]),d=Object(n.a)(o,2),m=d[0],u=d[1],f=Object(v.useState)([]),p=Object(n.a)(f,2),h=p[0],b=p[1];Object(v.useEffect)((function(){function e(){return(e=Object(i.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.a.get("https://thantthet.github.io/covid19-api/raw_data.json");case 3:a=e.sent,u(a.data.raw_data.filter((function(e){return e.statecode===t}))),s(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}r||function(){e.apply(this,arguments)}()}),[r,t]),Object(v.useEffect)((function(){b(function(e){var t=e.reduce((function(e,t){return e+t.contractedfromwhichpatientsuspected+", "}),"");t=t.replace(/\s+/g,"");var a=new Set(t.match(/[^,]+/g)),n=[],c=new Set,r=[];return e.forEach((function(e){var t=e.contractedfromwhichpatientsuspected.replace(/\s+/g,"").match(/[^,]+/g);if(t){var l="P"+e.patientnumber;c.add(l),n.push({id:l,group:a.has(e.patientnumber)?"source":"target",raw:e}),t.forEach((function(e){r.push({source:"P"+e,target:l})}))}})),r.forEach((function(e){c.has(e.source)||(n.push({id:e.source,group:"source",raw:e.source}),c.add(e.source))})),{nodes:n,links:r}}(m))}),[m]);var E=function(){var e=Object(v.useRef)();Object(v.useEffect)((function(){var t=e.current,a=document.getElementById("clusters").offsetWidth,n=a;t.d3Force("charge").strength(-60),t.d3Force("collision",ae.i()),t.d3Force("x",ae.j().strength(.3)),t.d3Force("y",ae.k().strength(.3)),t.d3Force("box",(function(){for(var e=0,t=h.nodes.length;e<t;++e){var c=h.nodes[e];c.x=Math.max(-a,Math.min(a,c.x)),c.y=Math.max(-n,Math.min(n,c.y))}}))}),[]);var t=document.getElementById("clusters").offsetWidth,a=t;return g.a.createElement(st.a,{ref:e,width:t,height:a,graphData:h,nodeLabel:"id",nodeColor:function(e){return"source"===e.group?"#dc3545":"gray"},linkDirectionalParticleColor:function(){return"red"},linkDirectionalParticles:1,linkDirectionalParticleWidth:function(e){return"P"===e.source.id[0]?2:0},enableZoomPanInteraction:!1})};return Object(v.useEffect)((function(){it.a.render(g.a.createElement(E,null),document.getElementById("clusters"))}),[h]),g.a.createElement("div",{id:"clusters"})}),(function(){return!0}));var dt=g.a.memo((function(e){var t=e.timeseries,a=e.arrayKey,c=Object(v.useState)([]),r=Object(n.a)(c,2),l=r[0],i=r[1],s=Object(v.useRef)();return Object(v.useEffect)((function(){i(t)}),[t]),Object(v.useEffect)((function(){if(l.length){var e=ae.H(s.current),t=50,n=0,c=+e.attr("width")-0,r=+e.attr("height")-50,i=ae.J("%e %b"),o=ae.C().domain(l.map((function(e){return i(e.date)}))).range([n,c]).paddingInner(.33),d=ae.D().domain([0,Math.max(1,ae.w(l,(function(e){return e[a]})))]).range([r,t]),m=ae.a(o).tickSize(0);e.select(".x-axis").style("transform","translateY(".concat(r,"px)")).call(m).call((function(e){return e.select(".domain").remove()})).selectAll("text").attr("y",0).attr("dy","1.5em").style("text-anchor","middle"),e.selectAll(".bar").data(l).join("path").attr("class","bar").attr("d",(function(e){return function(e,t,a,n,c,r){if(!n)return;void 0===r&&(r=1);var l=t-n+c;return["M",e,t,"L",e,l,"A",c,c,0,0,r,e+c,t-n,"L",e+a-c,t-n,"A",c,c,0,0,r,e+a,l,"L",e+a,t,"Z"].join(" ")}(o(i(e.date)),r,o.bandwidth(),r-d(e[a]),5)})).attr("fill",(function(e,t){return t<l.length-1?"#dc354590":"#dc3545"})),e.selectAll(".delta").data(l).join("text").attr("class","delta").attr("text-anchor","middle").attr("font-size","11px").attr("x",(function(e){return o(i(e.date))+o.bandwidth()/2})).attr("y",(function(e){return d(e[a])-6})).text((function(e){return e[a]})).append("tspan").attr("class","percent").attr("x",(function(e){return o(i(e.date))+o.bandwidth()/2})).attr("dy","-1.2em").text((function(e,t){return t&&l[t-1][a]?ae.l("+.1%")((l[t][a]-l[t-1][a])/l[t-1][a]):""}))}}),[l,a]),g.a.createElement("div",{className:"DeltaBarGraph fadeInUp",style:{animationDelay:"0.8s"}},g.a.createElement("svg",{ref:s,width:"250",height:"250",viewBox:"0 0 250 250",preserveAspectRatio:"xMidYMid meet"},g.a.createElement("g",{className:"x-axis"}),g.a.createElement("g",{className:"y-axis"})))}),(function(){return!0}));var mt=a(57),ut=a(514),ft=a(513);var pt=g.a.memo((function(e){var t=Object(c.b)().t,a=Object(v.useRef)(),r=Object(nt.h)().stateCode.toUpperCase(),s=Object(v.useState)({}),o=Object(n.a)(s,2),d=o[0],m=o[1],u=Object(v.useState)(!1),f=Object(n.a)(u,2),p=f[0],h=f[1],b=Object(v.useState)({}),E=Object(n.a)(b,2),y=E[0],N=E[1],j=Object(v.useState)({}),k=Object(n.a)(j,2),M=k[0],x=k[1],D=Object(v.useState)({}),C=Object(n.a)(D,2),S=C[0],I=C[1],A=Object(v.useState)(w[r]),F=Object(n.a)(A,1)[0],L=Object(v.useState)("confirmed"),U=Object(n.a)(L,2),H=U[0],_=U[1],B=Object(ft.a)(),P=Object(n.a)(B,2),z=P[0],Y=P[1].width,V=Object(v.useState)(!1),J=Object(n.a)(V,2),G=J[0],X=J[1];Object(ee.a)((function(){ae(r)}));var Z,$,ae=function(){var e=Object(i.a)(l.a.mark((function e(t){var a,c,r,i,s,o,d,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([K.a.get("https://thantthet.github.io/covid19-api/data.json"),K.a.get("https://thantthet.github.io/covid19-api/state_district_wise.json"),K.a.get("https://thantthet.github.io/covid19-api/states_daily.json")]);case 3:a=e.sent,c=Object(n.a)(a,3),r=c[0].data,i=c[1].data,s=c[2].data,o=w[t],d=r.statewise,m(d.filter((function(e){return e.statecode!==t&&w[e.statecode]}))),x(d.find((function(e){return e.statecode===t}))),u=W(s)[t],N(u),I(Object(ge.a)({},o,i[o])),h(!0),Object(Re.a)({targets:".highlight",duration:200,delay:3e3,translateX:"confirmed"===H?"".concat(0*Y,"px"):"active"===H?"".concat(.25*Y,"px"):"recovered"===H?"".concat(.5*Y,"px"):"deceased"===H?"".concat(.75*Y,"px"):"0px",easing:"spring(1, 80, 90, 10)",opacity:1}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=window.innerWidth>=540?3:2,t=S[F]&&Object.keys(S[F].districtData).length||0;return Math.ceil(t/e)}();return F?g.a.createElement(g.a.Fragment,null,g.a.createElement(q.a,null,g.a.createElement("title",null,"Coronavirus Outbreak in ",w[r]," - covid19.ttkz.me"),g.a.createElement("meta",{name:"title",content:"Coronavirus Outbreak in ".concat(w[r],": Latest Map and Case Count")})),g.a.createElement("div",{className:"State"},g.a.createElement("div",{className:"state-left"},g.a.createElement("div",{className:"breadcrumb"},g.a.createElement(mt.a,null,g.a.createElement(mt.a.Item,{href:"/"},t("menu.home")),g.a.createElement(mt.b,{direction:"w"},g.a.createElement("summary",null,g.a.createElement(mt.a.Item,{href:"".concat(r),selected:!0},T(r)),g.a.createElement(mt.b.Caret,{className:"caret"})),p&&g.a.createElement(mt.b.Menu,{direction:"se"},d.map((function(e){return g.a.createElement(mt.b.Item,{key:e.statecode,className:"item"},g.a.createElement(ue.b,{to:"".concat(e.statecode)},T(e.statecode)))})))))),g.a.createElement("div",{className:"header"},g.a.createElement("div",{className:"header-left fadeInUp",style:{animationDelay:"0.3s"}},g.a.createElement("h1",null,T(r)),g.a.createElement("h5",null,t("statepage.lastUpdatedOn",{time:Object.keys(M).length?R(M.lastupdatedtime):""})))),p&&g.a.createElement("div",{className:"map-switcher",ref:z},g.a.createElement("div",{className:"highlight ".concat(H),style:{transform:"translateX(".concat(0*Y,"px)"),opacity:0}}),g.a.createElement("div",{className:"clickable",onClick:function(){_("confirmed"),Object(Re.a)({targets:".highlight",translateX:"".concat(0*Y,"px"),easing:"spring(1, 80, 90, 10)"})}}),g.a.createElement("div",{className:"clickable",onClick:function(){_("active"),Object(Re.a)({targets:".highlight",translateX:"".concat(.25*Y,"px"),easing:"spring(1, 80, 90, 10)"})}}),g.a.createElement("div",{className:"clickable",onClick:function(){_("recovered"),Object(Re.a)({targets:".highlight",translateX:"".concat(.5*Y,"px"),easing:"spring(1, 80, 90, 10)"})}}),g.a.createElement("div",{className:"clickable",onClick:function(){_("deceased"),Object(Re.a)({targets:".highlight",translateX:"".concat(.75*Y,"px"),easing:"spring(1, 80, 90, 10)"})}})),p&&g.a.createElement(te,{data:M}),p&&g.a.createElement(ve,{timeseries:y}),p&&g.a.createElement(g.a.Fragment,null,g.a.createElement(he,{forwardRef:a,mapMeta:O[F],states:[M],stateDistrictWiseData:S,isCountryLoaded:!1,mapOptionProp:H})),p&&g.a.createElement("div",{className:"meta-secondary"},g.a.createElement("div",{className:"alert"},g.a.createElement(re.a,null),g.a.createElement("div",{className:"alert-right"},"Awaiting district details for"," ",(null===(Z=S[F])||void 0===Z||null===($=Z.districtData.Unknown)||void 0===$?void 0:$.confirmed)||"0"," ","cases")))),g.a.createElement("div",{className:"state-right"},p&&g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:"district-bar",style:G?{}:{display:"flex"}},g.a.createElement("div",{className:"district-bar-left fadeInUp",style:{animationDelay:"0.6s"}},g.a.createElement("h2",null,"Top districts"),g.a.createElement("div",{className:"districts ".concat(G?"is-grid":""),style:G?{gridTemplateRows:"repeat(".concat(ne,", 2rem)")}:{}},S[F]?Object.keys(S[F].districtData).filter((function(e){return"Unknown"!==e})).sort((function(e,t){return S[F].districtData[t].confirmed-S[F].districtData[e].confirmed})).slice(0,G?void 0:5).map((function(e,t){return g.a.createElement("div",{key:t,className:"district"},g.a.createElement("h2",null,S[F].districtData[e].confirmed),g.a.createElement("h5",null,e),g.a.createElement("div",{className:"delta"},g.a.createElement(ye.a,null),g.a.createElement("h6",null,S[F].districtData[e].delta.confirmed)))})):""),S[F]&&Object.keys(S[F].districtData).length>5&&g.a.createElement("button",{className:"button",onClick:function(){X(!G)}},G?"View less":"View all")),g.a.createElement("div",{className:"district-bar-right"},g.a.createElement("div",{className:"happy-sign fadeInUp",style:{animationDelay:"0.6s"}},y.slice(-5).every((function(e){return 0===e.dailyconfirmed}))&&g.a.createElement("div",{className:"alert is-green"},g.a.createElement(ut.a,null),g.a.createElement("div",{className:"alert-right"},"No new confirmed cases in the past five days"))),g.a.createElement(dt,{timeseries:y.slice(-5),arrayKey:"dailyconfirmed"}))),!1,g.a.createElement(De,{timeseries:y}))),g.a.createElement("div",{className:"state-left"},g.a.createElement("div",{className:"Clusters fadeInUp",style:{animationDelay:"0.8s"}},g.a.createElement("h1",null,"Network of Transmission"),g.a.createElement(ot,{stateCode:r}))),g.a.createElement("div",{className:"state-right"})),g.a.createElement(Q,null)):g.a.createElement(nt.a,{to:"/"})}));function ht(){var e=Object(nt.g)().pathname;return Object(v.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var vt={"@context":"http://schema.org/","@type":"NGO",name:"Coronavirus Outbreak in Myanmar: Latest Map and Case Count",alternateName:"COVID-19 Tracker",url:"https://covid19.ttkz.me/",image:"https://covid19.ttkz.me/thumbnail.png"};var gt=function(){var e=Object(c.b)().t,t=[{pageLink:"/",view:Le,displayName:e("menu.home"),animationDelayForNavbar:.2,showInNavbar:!0},{pageLink:"/demographics",view:rt,displayName:e("menu.demographics"),animationDelayForNavbar:.3,showInNavbar:!0},{pageLink:"/deepdive",view:X,displayName:e("menu.deepdrive"),animationDelayForNavbar:.4,showInNavbar:!0},{pageLink:"/state/:stateCode",view:pt,displayName:e("menu.state"),animationDelayForNavbar:.7,showInNavbar:!1}],a=Object(fe.a)("darkMode",!1),r=Object(n.a)(a,2),l=r[0],i=r[1],s=Object(fe.a)("isThemeSet",!1),o=Object(n.a)(s,1)[0];return Object(ee.a)((function(){window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&!o?i(!0):!window.matchMedia||window.matchMedia("(prefers-color-scheme: dark)").matches||o||i(!1)})),g.a.useEffect((function(){l?document.querySelector("body").classList.add("dark-mode"):document.querySelector("body").classList.remove("dark-mode")}),[l]),g.a.createElement("div",{className:"App"},g.a.createElement(q.a,null,g.a.createElement("script",{type:"application/ld+json"},JSON.stringify(vt))),g.a.createElement(ue.a,null,g.a.createElement(ht,null),g.a.createElement(nt.b,{render:function(e){var a=e.location;return g.a.createElement("div",{className:"Almighty-Router"},g.a.createElement(Ke,{pages:t,darkMode:l,setDarkMode:i}),g.a.createElement(nt.d,{location:a},t.map((function(e,t){return g.a.createElement(nt.b,{exact:!0,path:e.pageLink,render:function(a){var n=a.match;return g.a.createElement(e.view,{key:n.params.stateCode||t})},key:t})})),g.a.createElement(nt.a,{to:"/"})))}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var bt=a(136),Et=a.n(bt),yt=a(253),Nt={name:"default",lookup:function(e){if(!localStorage.getItem("i18nextLng"))return"my-MM"}},jt=new(a(250).a);jt.addDetector(Nt),m.a.use(yt.a).use(jt).init({debug:!1,fallbackLng:"en",backend:{loadPath:"/locales/{{lng}}.json"},detection:{order:["default","querystring","cookie","localStorage","navigator","htmlTag","path","subdomain"]},interpolation:{escapeValue:!1,format:function(e,t,a){return e instanceof Date?Et()(e).local(a).format(t):"numeric"===t?Number(e).toLocaleString(a):e}}});var Ot=m.a;it.a.render(g.a.createElement(v.Suspense,{fallback:""},g.a.createElement(c.a,{i18n:Ot},g.a.createElement(gt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[326,1,2]]]);
//# sourceMappingURL=main.319b59bf.chunk.js.map